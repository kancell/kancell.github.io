(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[92],{"5Ftn":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var c=n("nKUr"),a="+aEd";function i(e){return Object(c["jsxs"])("div",{className:"break-all border-gray-100 border bg-white flex px-4 text-base justify-between items-center min-h-14",_nk:"".concat(a,"11"),children:[Object(c["jsxs"])("div",{className:"w-28 p-1 text-left flex-0",_nk:"".concat(a,"12"),children:[e.Required?Object(c["jsx"])("span",{className:"text-red-500 relative right-0.5",_nk:"".concat(a,"21"),children:"*"}):null,e.title]}),Object(c["jsx"])("div",{className:"px-1 flex flex-1 justify-between items-center",_nk:"".concat(a,"13"),children:e.children})]})}},"73G7":function(e,t,n){e.exports=n.p+"static/banner2.5795a5d0.png"},"8xVO":function(e,t,n){"use strict";var c=n("ryPu"),a=n.n(c);n.d(t,"a",(function(){return a.a}));var i=n("73G7"),r=n.n(i);n.d(t,"b",(function(){return r.a}));var s=n("BKbo"),o=n.n(s);n.d(t,"d",(function(){return o.a}));var l=n("oLrZ"),d=n.n(l);n.d(t,"c",(function(){return d.a}))},"9mPY":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var c=n("9kvl"),a=n("nKUr"),i="8umz";function r(e){var t=e.title,n=e.backTo,r=e.children,s=e.className,o=()=>{void 0===n?c["a"].goBack():c["a"].push(n)};return Object(a["jsx"])(a["Fragment"],{children:Object(a["jsxs"])("div",{className:"".concat(null!==s&&void 0!==s?s:""," flex justify-between items-center px-2 py-2.5 bg-white border-b"),_nk:"".concat(i,"11"),children:[Object(a["jsx"])("div",{className:"flex flex-1 font-semibold text-base mx-2 ml-auto",onClick:()=>o(),_nk:"".concat(i,"12"),children:Object(a["jsx"])("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",_nk:"".concat(i,"21"),children:Object(a["jsx"])("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7",_nk:"".concat(i,"31")})})}),Object(a["jsx"])("div",{className:"flex justify-center font-semibold text-base flex-nowrap",_nk:"".concat(i,"13"),children:t}),Object(a["jsx"])("div",{className:"flex flex-1 flex-row-reverse",_nk:"".concat(i,"14"),children:r})]})})}},BKbo:function(e,t,n){e.exports=n.p+"static/header.af01ecf4.png"},JWsu:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return b})),n.d(t,"e",(function(){return v})),n.d(t,"b",(function(){return x}));var c=n("k1fw"),a=n("9og8"),i=n("WmNS"),r=n.n(i),s=n("9kvl");function o(e){return l.apply(this,arguments)}function l(){return l=Object(a["a"])(r.a.mark((function e(t){return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(s["c"])("/we/visit/add-visit-operator-info",Object(c["a"])({method:"POST"},t||{})));case 1:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)}function d(e){return u.apply(this,arguments)}function u(){return u=Object(a["a"])(r.a.mark((function e(t){return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(s["c"])("/we/visit/get-visit-audit-list",Object(c["a"])({method:"GET"},t||{})));case 1:case"end":return e.stop()}}),e)}))),u.apply(this,arguments)}function b(e){return j.apply(this,arguments)}function j(){return j=Object(a["a"])(r.a.mark((function e(t){return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(s["c"])("/we/visit/get-visit-audit-info-list",Object(c["a"])({method:"GET"},t||{})));case 1:case"end":return e.stop()}}),e)}))),j.apply(this,arguments)}function v(e){return p.apply(this,arguments)}function p(){return p=Object(a["a"])(r.a.mark((function e(t){return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(s["c"])("/we/visit/get-visit-audit-info",Object(c["a"])({method:"GET"},t||{})));case 1:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)}function x(e){return m.apply(this,arguments)}function m(){return m=Object(a["a"])(r.a.mark((function e(t){return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(s["c"])("/we/visit/visit-audit",Object(c["a"])({method:"POST"},t||{})));case 1:case"end":return e.stop()}}),e)}))),m.apply(this,arguments)}},W7Pg:function(e,t,n){"use strict";var c=n("q1tI"),a=n("lsKZ"),i=n("/iMU"),r=n("5Ftn"),s=n("crOQ"),o=n("uzmA"),l=n("nKUr"),d="GW+d",u=e=>{var t,n=null===e||void 0===e?void 0:e.data,c=Object(l["jsxs"])("div",{className:"rounded overflow-hidden",_nk:"".concat(d,"11"),children:[Object(l["jsx"])(r["a"],{title:"\u6765\u8bbf\u4eba\u59d3\u540d",_nk:"".concat(d,"21"),children:Object(l["jsx"])(a["a"],{type:"text",disabled:!0,value:(null===n||void 0===n?void 0:n.name)||"\u6682\u65e0",_nk:"".concat(d,"31")})}),Object(l["jsx"])(r["a"],{title:"\u6765\u8bbf\u4eba\u8eab\u4efd\u8bc1\u53f7",_nk:"".concat(d,"22"),children:Object(l["jsx"])(a["a"],{type:"text",disabled:!0,rows:1,autoHeight:!0,value:(null===n||void 0===n?void 0:n.idCard)||"\u6682\u65e0",_nk:"".concat(d,"32")})}),Object(l["jsx"])(r["a"],{title:"\u6765\u8bbf\u4eba\u8054\u7cfb\u65b9\u5f0f",_nk:"".concat(d,"23"),children:Object(l["jsx"])(a["a"],{type:"text",disabled:!0,value:(null===n||void 0===n?void 0:n.mobile)||"\u6682\u65e0",_nk:"".concat(d,"33")})}),Object(l["jsx"])(r["a"],{title:"\u6765\u8bbf\u4eba\u516c\u53f8\u540d",_nk:"".concat(d,"24"),children:Object(l["jsx"])(a["a"],{type:"text",disabled:!0,rows:1,autoHeight:!0,value:(null===n||void 0===n?void 0:n.company)||"\u6682\u65e0",_nk:"".concat(d,"34")})}),Object(l["jsx"])(r["a"],{title:"\u8bbf\u95ee\u4e8b\u7531",_nk:"".concat(d,"25"),children:Object(l["jsx"])(a["a"],{type:"text",disabled:!0,rows:1,autoHeight:!0,value:(null===n||void 0===n?void 0:n.remark)||"\u6682\u65e0",_nk:"".concat(d,"35")})}),Object(l["jsx"])(r["a"],{title:"\u6765\u8bbf\u4eba\u8f66\u724c",_nk:"".concat(d,"26"),children:Object(l["jsx"])(a["a"],{type:"text",disabled:!0,value:(null===n||void 0===n?void 0:n.licensePlate)||"\u6682\u65e0",_nk:"".concat(d,"36")})}),Object(l["jsx"])(r["a"],{title:"\u53d7\u8bbf\u4eba\u90e8\u95e8",_nk:"".concat(d,"27"),children:Object(l["jsx"])(a["a"],{type:"text",disabled:!0,value:(null===n||void 0===n?void 0:n.visitedPersonDeptname)||"\u6682\u65e0",_nk:"".concat(d,"37")})}),Object(l["jsx"])(r["a"],{title:"\u53d7\u8bbf\u4eba\u59d3\u540d",_nk:"".concat(d,"28"),children:Object(l["jsx"])(a["a"],{type:"text",disabled:!0,value:(null===n||void 0===n?void 0:n.visitedPersonName)||"\u6682\u65e0",_nk:"".concat(d,"38")})}),Object(l["jsx"])(r["a"],{title:"\u5f00\u59cb\u65f6\u95f4",_nk:"".concat(d,"29"),children:Object(l["jsx"])(i["a"],{disabled:!0,title:"\u9009\u62e9\u65f6\u95f4",mode:"dateTime",value:(null===n||void 0===n?void 0:n.startTime)||"\u6682\u65e0",_nk:"".concat(d,"41")})}),Object(l["jsx"])(r["a"],{title:"\u7ed3\u675f\u65f6\u95f4",_nk:"".concat(d,"2a"),children:Object(l["jsx"])(i["a"],{title:"\u9009\u62e9\u65f6\u95f4",disabled:!0,mode:"dateTime",value:(null===n||void 0===n?void 0:n.endTime)||"\u6682\u65e0",_nk:"".concat(d,"42")})}),Object(l["jsx"])(r["a"],{title:"\u8bbf\u5ba2\u4eba\u8138\u3001\u5065\u5eb7\u7801\u3001\u884c\u7a0b\u7801\u56fe\u7247",_nk:"".concat(d,"2b"),children:Object(l["jsx"])("div",{className:"p-2 grid grid-cols-2 gap-2",_nk:"".concat(d,"12"),children:null===n||void 0===n||null===(t=n.picUrl)||void 0===t?void 0:t.map(((e,t)=>Object(l["jsx"])(o["a"],{src:e.ImageUrl,className:"w-full object-cover",_nk:"".concat(d,"51")},t)))})}),(null===n||void 0===n?void 0:n.auditUserName)&&(null===n||void 0===n?void 0:n.auditPhoneNumber)&&Object(l["jsx"])(r["a"],{title:"\u529e\u516c\u5ba4\u5ba1\u6279\u4eba",_nk:"".concat(d,"2c"),children:Object(l["jsx"])(a["a"],{type:"text",disabled:!0,value:"".concat(n.auditUserName,"-").concat(n.auditPhoneNumber),_nk:"".concat(d,"39")})})]});return Object(l["jsx"])(l["Fragment"],{children:n?c:Object(l["jsx"])(s["a"],{_nk:"".concat(d,"61")})})};t["a"]=Object(c["memo"])(u)},dX6L:function(e,t,n){"use strict";n.r(t);var c=n("k1fw"),a=n("9og8"),i=n("tJVT"),r=n("WmNS"),s=n.n(r),o=n("q1tI"),l=n("Ty5D"),d=n("9kvl"),u=n("JWsu"),b=n("W7Pg"),j=n("9mPY"),v=n("8xVO"),p=n("D3E4"),x=n("XEcV"),m=n("lsKZ"),O=n("VsxY"),f=n("pf/J"),h=n("5Ftn"),k=n("zM3Q"),g=n("nKUr"),w="d4/p",_=()=>{var e,t,n,r=Object(l["h"])(),_=r,y=Object(d["e"])("@@initialState"),N=y.initialState,S=N,P=Object(o["useState"])("pending"),I=Object(i["a"])(P,2),C=I[0],T=I[1],E=Object(o["useState"])(),K=Object(i["a"])(E,2),U=K[0],F=K[1],L=function(){var e=Object(a["a"])(s.a.mark((function e(){var t,n,a,i,r;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["e"])({params:{id:_.id}});case 2:if(a=e.sent,!a||!a.status){e.next=18;break}F(a.result.info),V(Object(c["a"])(Object(c["a"])({},z),{},{id:null===(i=a.result)||void 0===i||null===(r=i.info)||void 0===r?void 0:r.id})),e.t0=null===(t=a.result)||void 0===t||null===(n=t.info)||void 0===n?void 0:n.auditStatus,e.next="0"===e.t0?9:"1"===e.t0?11:"3"===e.t0?13:"2"===e.t0||"4"===e.t0?15:17;break;case 9:return T("pending"),e.abrupt("break",18);case 11:return T("pendingSuccess"),e.abrupt("break",18);case 13:return T("success"),e.abrupt("break",18);case 15:return T("reject"),e.abrupt("break",18);case 17:return e.abrupt("break",18);case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(o["useEffect"])((()=>{V(Object(c["a"])(Object(c["a"])({},z),{},{visitedPersonId:"pending"===C?S.user.id:void 0,auditPersonId:"pendingSuccess"===C?S.user.id:void 0,flag:"pendingSuccess"===C?0:void 0}))}),[C]);var W=Object(g["jsxs"])("div",{className:"my-2 pb-2",_nk:"".concat(w,"11"),children:["pending"===C&&Object(g["jsx"])(h["a"],{title:"\u5ba1\u6279\u72b6\u6001",_nk:"".concat(w,"21"),children:"\u88ab\u62dc\u8bbf\u4eba\u5ba1\u6279\u4e2d"}),"pendingSuccess"===C&&Object(g["jsx"])(h["a"],{title:"\u5ba1\u6279\u72b6\u6001",_nk:"".concat(w,"22"),children:"\u88ab\u62dc\u8bbf\u4eba\u5ba1\u6279\u901a\u8fc7"}),"success"===C&&Object(g["jsx"])(h["a"],{title:"\u5ba1\u6279\u72b6\u6001",_nk:"".concat(w,"23"),children:"\u5ba1\u6279\u901a\u8fc7"}),"reject"===C&&Object(g["jsx"])(h["a"],{title:"\u5ba1\u6279\u72b6\u6001",_nk:"".concat(w,"24"),children:"\u5ba1\u6279\u672a\u901a\u8fc7"}),Object(g["jsx"])("div",{className:"".concat(0===(null===U||void 0===U||null===(e=U.auditInfoList)||void 0===e?void 0:e.length)?"hidden":"text-sm my-1 text-gray-500"),_nk:"".concat(w,"12"),children:"\u5ba1\u6279\u8bb0\u5f55"}),null===U||void 0===U||null===(t=U.auditInfoList)||void 0===t?void 0:t.map(((e,t)=>Object(g["jsx"])(h["a"],{title:e.userName,_nk:"".concat(w,"25"),children:e.auditInfo},e.rownum)))]});Object(o["useEffect"])((()=>{L()}),[]);var G=Object(o["useState"])(),J=Object(i["a"])(G,2),z=J[0],V=J[1],q=Object(o["useState"])(),B=Object(i["a"])(q,2),M=B[0],Z=B[1],D=function(){var e=Object(a["a"])(s.a.mark((function e(t){var n,c;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(k["g"])({params:{roleKey:t}});case 2:n=e.sent,n&&n.status&&(c=n.result.info.map((e=>{var t;return{value:null!==(t=e.id)&&void 0!==t?t:"error",label:"".concat(e.deptName,"-").concat(e.userName,"\uff08").concat(e.phoneNumber,"\uff09")}})),Z(c));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(o["useEffect"])((()=>{D("visitor-admin")}),[]);var H=Object(g["jsx"])(h["a"],{title:"\u6700\u7ec8\u5ba1\u6279\u4eba",Required:!0,_nk:"".concat(w,"26"),children:Object(g["jsx"])(p["a"],{value:null===z||void 0===z?void 0:z.auditPersonId,dataSource:M,onOk:e=>{V(Object(c["a"])(Object(c["a"])({},z),{},{auditPersonId:e[0].value}))},_nk:"".concat(w,"31")})}),R=Object(g["jsxs"])("div",{className:"pb-12 \n    ".concat("pending"===C||"pendingSuccess"===C&&(null===U||void 0===U||null===(n=U.auditInfoList[0])||void 0===n?void 0:n.auditPersonId)===S.user.id?"":"hidden"),_nk:"".concat(w,"13"),children:[Object(g["jsx"])("div",{className:"text-sm my-1 text-gray-500",_nk:"".concat(w,"14"),children:"\u5ba1\u6279\u64cd\u4f5c"}),"pendingSuccess"===C&&Object(g["jsx"])(h["a"],{title:"\u901a\u77e5\u4fdd\u5b89\u961f",_nk:"".concat(w,"27"),children:Object(g["jsxs"])(x["a"].Group,{type:"button",value:null===z||void 0===z?void 0:z.flag,onChange:e=>{V(Object(c["a"])(Object(c["a"])({},z),{},{flag:Number(e)}))},_nk:"".concat(w,"41"),children:[Object(g["jsx"])(x["a"],{value:0,_nk:"".concat(w,"51"),children:"\u4e0d\u901a\u77e5"}),Object(g["jsx"])(x["a"],{value:1,_nk:"".concat(w,"52"),children:"\u901a\u77e5"})]})}),Object(g["jsx"])(h["a"],{title:"\u5ba1\u6279\u610f\u89c1",_nk:"".concat(w,"28"),children:Object(g["jsx"])(m["a"],{type:"text",value:(null===z||void 0===z?void 0:z.auditInfo)||"",placeholder:"\u8bf7\u586b\u5199\u5ba1\u6279\u610f\u89c1",onChange:e=>{V(Object(c["a"])(Object(c["a"])({},z),{},{auditInfo:e}))},_nk:"".concat(w,"61")})}),"pending"===C&&H,Object(g["jsxs"])("div",{className:"sticky bottom-4 mt-8 rounded-full flex divide-x divide-white text-center py-1.5 px-5 mx-4 text-white text-base font-semibold bg-gradient-to-r from-blue-400 to-blue-500",_nk:"".concat(w,"15"),children:[Object(g["jsx"])("div",{onClick:()=>{O["a"].confirm({title:"\u786e\u8ba4\u9000\u56de\u9884\u7ea6\u5417",content:"\u8fd9\u4e2a\u64cd\u4f5c\u65e0\u6cd5\u64a4\u9500",onCancel:()=>{},onOk:()=>{"pending"===C?$("2"):"pendingSuccess"===C&&$("4")}})},className:"flex-1",_nk:"".concat(w,"16"),children:"\u9000\u56de\u7533\u8bf7"}),Object(g["jsx"])("div",{onClick:()=>{O["a"].confirm({title:"\u786e\u8ba4\u901a\u8fc7\u9884\u7ea6\u7533\u8bf7\u5417",content:"\u8fd9\u4e2a\u64cd\u4f5c\u65e0\u6cd5\u64a4\u9500",onCancel:()=>{},onOk:()=>{"pending"===C?$("1"):"pendingSuccess"===C&&$("3")}})},className:"flex-1",_nk:"".concat(w,"17"),children:"\u901a\u8fc7\u7533\u8bf7"})]})]}),Y=Object(o["useState"])(!1),A=Object(i["a"])(Y,2),Q=A[0],X=A[1],$=function(){var e=Object(a["a"])(s.a.mark((function e(t){var n;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(void 0!==(null===z||void 0===z?void 0:z.auditPersonId)||"pending"!==C||"1"!==t&&"3"!==t){e.next=3;break}return f["a"].show("\u8bf7\u9009\u62e9\u6700\u7ec8\u5ba1\u6279\u4eba"),e.abrupt("return");case 3:if(!Q){e.next=5;break}return e.abrupt("return");case 5:return X(!0),e.prev=6,e.next=9,Object(u["b"])({data:Object(c["a"])(Object(c["a"])({},z),{},{auditStatus:t})});case 9:n=e.sent,n&&n.status?(f["a"].show(n.message),X(!1),L()):X(!1),e.next=15;break;case 13:e.prev=13,e.t0=e["catch"](6);case 15:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(g["jsxs"])(g["Fragment"],{children:[Object(g["jsx"])("div",{className:"top-0 z-10",_nk:"".concat(w,"18"),children:Object(g["jsx"])(j["a"],{title:"\u6765\u8bbf\u9884\u7ea6",className:"text-white bg-blue-450",_nk:"".concat(w,"71")})}),Object(g["jsx"])(g["Fragment"],{children:Object(g["jsxs"])("div",{className:"bg-cover h-48 px-4 pt-3 absolute w-full top-10 max-w-lg",style:{backgroundImage:"url(".concat(v["c"],")")},_nk:"".concat(w,"19"),children:[Object(g["jsx"])("div",{className:"text-lg text-white font-medium",_nk:"".concat(w,"1a"),children:"\u5ba1\u6279\u8bbf\u5ba2\u9884\u7ea6\u5355"}),Object(g["jsx"])("div",{className:"w-8 h-1 mt-2 ml-0.5 mb-4 rounded-full bg-gradient-to-l from-red-300 via-green-500 to-white",_nk:"".concat(w,"1b")}),Object(g["jsx"])(b["a"],{data:U,_nk:"".concat(w,"81")}),W,R]})})]})};t["default"]=Object(o["memo"])(_)},oLrZ:function(e,t,n){e.exports=n.p+"static/formBg.5b3fe558.png"},ryPu:function(e,t,n){e.exports=n.p+"static/banner1.f197b063.png"},uzmA:function(e,t,n){"use strict";var c=n("tJVT"),a=n("q1tI"),i=n("i8i4"),r=n.n(i),s=n("nKUr"),o="x4MR";function l(e){var t=Object(a["useState"])(!1),n=Object(c["a"])(t,2),i=n[0],l=n[1];return Object(a["useEffect"])((()=>{var t=document.createElement("div");i&&(r.a.render(Object(s["jsx"])("div",{onClick:()=>{l(!i),document.body.removeChild(t)},className:"".concat(i?"":"hidden"," z-50 top-0 left-0 fixed w-screen h-screen flex items-center justify-center bg-opacity-60 bg-gray-800"),_nk:"".concat(o,"11"),children:Object(s["jsx"])("img",{src:e.src,className:"w-auto h-auto",_nk:"".concat(o,"21")})}),t),document.body.appendChild(t))}),[i]),Object(s["jsxs"])(s["Fragment"],{children:["bg"===e.type&&Object(s["jsx"])("div",{className:"".concat(e.className?e.className:""," bg-cover bg-center cursor-pointer border"),style:{backgroundImage:"url(".concat(e.src,")")},onClick:()=>l(!0),_nk:"".concat(o,"12")}),(!e.type||"img"===e.type)&&Object(s["jsx"])("img",{src:e.src,className:"".concat(e.className?e.className:""," cursor-pointer border"),onClick:()=>l(!0),_nk:"".concat(o,"22")})]})}t["a"]=Object(a["memo"])(l)}}]);