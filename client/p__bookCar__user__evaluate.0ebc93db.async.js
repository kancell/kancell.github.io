(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[32],{"9mPY":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var c=n("9kvl"),r=n("nKUr"),a="8umz";function i(e){var t=e.title,n=e.backTo,i=e.children,o=e.className,s=()=>{void 0===n?c["a"].goBack():c["a"].push(n)};return Object(r["jsx"])(r["Fragment"],{children:Object(r["jsxs"])("div",{className:"".concat(null!==o&&void 0!==o?o:""," flex justify-between items-center px-2 py-2.5 bg-white border-b"),_nk:"".concat(a,"11"),children:[Object(r["jsx"])("div",{className:"flex flex-1 font-semibold text-base mx-2 ml-auto",onClick:()=>s(),_nk:"".concat(a,"12"),children:Object(r["jsx"])("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",_nk:"".concat(a,"21"),children:Object(r["jsx"])("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7",_nk:"".concat(a,"31")})})}),Object(r["jsx"])("div",{className:"flex justify-center font-semibold text-base flex-nowrap",_nk:"".concat(a,"13"),children:t}),Object(r["jsx"])("div",{className:"flex flex-1 flex-row-reverse",_nk:"".concat(a,"14"),children:i})]})})}},j8wu:function(e,t,n){"use strict";n.r(t);var c=n("9og8"),r=n("tJVT"),a=n("WmNS"),i=n.n(a),o=n("q1tI"),s=n("9mPY"),u=n("Ty5D"),l=n("9kvl"),p=n("pAFO"),d=n("pf/J"),h=n("nKUr"),b="G19N";function j(){var e=Object(u["h"])(),t=e,n=Object(o["useState"])(),a=Object(r["a"])(n,2),j=a[0],f=a[1],m=Object(o["useState"])(!1),v=Object(r["a"])(m,2),x=v[0],w=v[1],O=Object(o["useState"])(),k=Object(r["a"])(O,2),g=k[0],y=k[1],_=function(){var e=Object(c["a"])(i.a.mark((function e(){var n,c,r;return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(p["i"])({params:{id:t.id}});case 2:return n=e.sent,e.next=5,Object(p["b"])({params:{id:t.id}});case 5:c=e.sent,c&&c.status&&n&&n.status&&(f(c.result),w("\u5f85\u8bc4\u4ef7"===c.result.vehicleApplicationForm.status),r=n.result.list.map((e=>(e.evaluationScore||(e.evaluationScore=5),e))),y(r));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(o["useEffect"])((()=>{_()}),[]);var N=Object(o["useState"])(!1),S=Object(r["a"])(N,2),L=S[0],T=S[1],C=function(){var e=Object(c["a"])(i.a.mark((function e(){var t,n,c;return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=!0,n=[],null===g||void 0===g||g.forEach((e=>{e.applicationFormId&&e.evaluationScore&&e.pid||(t=!1),n.push({applicationFormId:e.applicationFormId,evaluationContent:e.evaluationContent?e.evaluationContent:"\u7528\u6237\u9ed8\u8ba4\u597d\u8bc4",evaluationScore:e.evaluationScore,id:e.pid})})),t){e.next=5;break}return e.abrupt("return");case 5:if(!L){e.next=7;break}return e.abrupt("return");case 7:return T(!0),e.prev=8,e.next=11,Object(p["h"])({data:n});case 11:c=e.sent,c&&c.status?(d["a"].show(c.message),setTimeout((()=>{l["a"].goBack()}),1e3),_(),T(!1)):T(!1),e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](8),T(!1);case 18:case"end":return e.stop()}}),e,null,[[8,15]])})));return function(){return e.apply(this,arguments)}}(),A=Object(h["jsx"])("div",{className:"p-4 border rounded-md border-r-gray-200 bg-white",_nk:"".concat(b,"11"),children:Object(h["jsxs"])("div",{className:"flex justify-between",_nk:"".concat(b,"12"),children:[Object(h["jsxs"])("div",{className:"flex flex-col flex-1 items-center px-4",_nk:"".concat(b,"13"),children:[Object(h["jsxs"])("div",{className:"flex py-1",_nk:"".concat(b,"14"),children:[Object(h["jsx"])("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",_nk:"".concat(b,"21"),children:Object(h["jsx"])("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 21v-4m0 0V5a2 2 0 012-2h6.5l1 1H21l-3 6 3 6h-8.5l-1-1H5a2 2 0 00-2 2zm9-13.5V9",_nk:"".concat(b,"31")})}),"\u8d77\u70b9"]}),Object(h["jsx"])("div",{_nk:"".concat(b,"15"),children:null===j||void 0===j?void 0:j.vehicleApplicationForm.origin})]}),Object(h["jsxs"])("div",{className:"flex flex-col flex-1 items-center px-4",_nk:"".concat(b,"16"),children:[Object(h["jsxs"])("div",{className:"flex py-1",_nk:"".concat(b,"17"),children:[Object(h["jsx"])("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",_nk:"".concat(b,"22"),children:Object(h["jsx"])("path",{fillRule:"evenodd",d:"M3 6a3 3 0 013-3h10a1 1 0 01.8 1.6L14.25 8l2.55 3.4A1 1 0 0116 13H6a1 1 0 00-1 1v3a1 1 0 11-2 0V6z",clipRule:"evenodd",_nk:"".concat(b,"32")})}),"\u7ec8\u70b9"]}),Object(h["jsx"])("div",{_nk:"".concat(b,"18"),children:null===j||void 0===j?void 0:j.vehicleApplicationForm.destination})]})]})}),F=Object(o["useState"])(new Array(5).fill(!1)),P=Object(r["a"])(F,2),I=P[0],M=(P[1],null===g||void 0===g?void 0:g.map(((e,t)=>{var n;return Object(h["jsxs"])("div",{className:"p-4 border rounded-md border-r-gray-200 bg-white my-1",_nk:"".concat(b,"19"),children:[Object(h["jsxs"])("div",{className:"flex items-center justify-between",_nk:"".concat(b,"1a"),children:[Object(h["jsxs"])("div",{className:"flex items-center justify-between",_nk:"".concat(b,"1b"),children:[Object(h["jsx"])("span",{className:"inline-block p-2 text-blue-500 bg-blue-100 rounded-md",_nk:"".concat(b,"41"),children:Object(h["jsx"])("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",_nk:"".concat(b,"23"),children:Object(h["jsx"])("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z",_nk:"".concat(b,"33")})})}),Object(h["jsxs"])("div",{className:"mx-4 mt-0",_nk:"".concat(b,"1c"),children:[Object(h["jsx"])("p",{className:"text-base font-medium text-gray-700 capitalize",_nk:"".concat(b,"51"),children:e.driverName}),Object(h["jsx"])("p",{className:"text-xs text-gray-700",_nk:"".concat(b,"52"),children:e.driverMobile})]})]}),Object(h["jsxs"])("div",{className:"text-gray-400",_nk:"".concat(b,"1d"),children:["\u8f66\u724c\uff1a",Object(h["jsx"])("span",{className:"border border-blue-400 bg-white text-blue-400 rounded px-1",_nk:"".concat(b,"42"),children:e.vehicleInfo})]})]}),Object(h["jsxs"])("ul",{className:"flex items-center justify-center gap-x-1 p-4 py-2 my-1.5",_nk:"".concat(b,"61"),children:[Object(h["jsx"])("li",{_nk:"".concat(b,"71"),children:"\u60a8\u7684\u8bc4\u5206\u662f\uff1a"}),I.map(((n,c)=>Object(h["jsx"])("li",{onClick:()=>{if(x){var e=[...g];e[t].evaluationScore=c+1,y(e)}},_nk:"iAr".concat(b,"72"),children:Object(h["jsx"])("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-yellow-500 ".concat(e.evaluationScore>c?"fill-current":""),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",_nk:"".concat(b,"24"),children:Object(h["jsx"])("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z",_nk:"".concat(b,"34")})})},c)))]}),Object(h["jsx"])("div",{_nk:"".concat(b,"1e"),children:Object(h["jsx"])("textarea",{disabled:!x,value:null!==(n=e.evaluationContent)&&void 0!==n?n:"",onChange:e=>{var n=[...g];n[t].evaluationContent=e.target.value,y(n)},placeholder:"\u586b\u5199\u60a8\u7684\u8bc4\u4ef7",className:"w-full h-16 py-2 px-4 border focus:border-blue-400 text-sm rounded text-gray-800 bg-gray-100",_nk:"".concat(b,"81")})})]},t)})));return Object(h["jsxs"])(h["Fragment"],{children:[Object(h["jsx"])("div",{className:"sticky top-0 bg-white z-10",_nk:"".concat(b,"1f"),children:Object(h["jsx"])(s["a"],{title:"\u7528\u8f66\u8bc4\u4ef7",_nk:"".concat(b,"91")})}),Object(h["jsxs"])("div",{className:"m-2",_nk:"".concat(b,"1g"),children:[A,M]}),Object(h["jsx"])("button",{onClick:()=>C(),className:"flex text-base font-semibold mt-4 justify-center flex-1 text-white bg-blue-400 py-1.5 w-48 mx-auto focus:outline-none hover:bg-indigo-600 rounded",_nk:"".concat(b,"a1"),children:"\u63d0\u4ea4\u8bc4\u4ef7"})]})}t["default"]=j},pAFO:function(e,t,n){"use strict";n.d(t,"l",(function(){return s})),n.d(t,"k",(function(){return l})),n.d(t,"m",(function(){return d})),n.d(t,"a",(function(){return b})),n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return v})),n.d(t,"d",(function(){return w})),n.d(t,"g",(function(){return k})),n.d(t,"f",(function(){return y})),n.d(t,"j",(function(){return N})),n.d(t,"e",(function(){return L})),n.d(t,"i",(function(){return C})),n.d(t,"h",(function(){return F})),n.d(t,"n",(function(){return I}));var c=n("k1fw"),r=n("9og8"),a=n("WmNS"),i=n.n(a),o=n("9kvl");function s(e){return u.apply(this,arguments)}function u(){return u=Object(r["a"])(i.a.mark((function e(t){return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o["c"])("/we/vehicle/manage/getVehicleInfoList",Object(c["a"])({method:"POST"},t||{})));case 1:case"end":return e.stop()}}),e)}))),u.apply(this,arguments)}function l(e){return p.apply(this,arguments)}function p(){return p=Object(r["a"])(i.a.mark((function e(t){return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o["c"])("/we/vehicle/manage/getVehicleInfo",Object(c["a"])({method:"GET"},t||{})));case 1:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)}function d(e){return h.apply(this,arguments)}function h(){return h=Object(r["a"])(i.a.mark((function e(t){return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o["c"])("/we/vehicle/manage/getDriverInfoList",Object(c["a"])({method:"POST"},t||{})));case 1:case"end":return e.stop()}}),e)}))),h.apply(this,arguments)}function b(e){return j.apply(this,arguments)}function j(){return j=Object(r["a"])(i.a.mark((function e(t){return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o["c"])("/we/vehicle/application/commitApplication",Object(c["a"])({method:"POST"},t||{})));case 1:case"end":return e.stop()}}),e)}))),j.apply(this,arguments)}function f(e){return m.apply(this,arguments)}function m(){return m=Object(r["a"])(i.a.mark((function e(t){return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o["c"])("/we/vehicle/application/getApplicationFormList",Object(c["a"])({method:"POST"},t||{})));case 1:case"end":return e.stop()}}),e)}))),m.apply(this,arguments)}function v(e){return x.apply(this,arguments)}function x(){return x=Object(r["a"])(i.a.mark((function e(t){return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o["c"])("/we/vehicle/application/getApplicationForm",Object(c["a"])({method:"GET"},t||{})));case 1:case"end":return e.stop()}}),e)}))),x.apply(this,arguments)}function w(e){return O.apply(this,arguments)}function O(){return O=Object(r["a"])(i.a.mark((function e(t){return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o["c"])("/we/vehicle/application/commitApprovalForm",Object(c["a"])({method:"POST"},t||{})));case 1:case"end":return e.stop()}}),e)}))),O.apply(this,arguments)}function k(e){return g.apply(this,arguments)}function g(){return g=Object(r["a"])(i.a.mark((function e(t){return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o["c"])("/we/vehicle/application/commitAssignmentForm",Object(c["a"])({method:"POST"},t||{})));case 1:case"end":return e.stop()}}),e)}))),g.apply(this,arguments)}function y(e){return _.apply(this,arguments)}function _(){return _=Object(r["a"])(i.a.mark((function e(t){return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o["c"])("/we/vehicle/application/getAssignmentFormList",Object(c["a"])({method:"get"},t||{})));case 1:case"end":return e.stop()}}),e)}))),_.apply(this,arguments)}function N(e){return S.apply(this,arguments)}function S(){return S=Object(r["a"])(i.a.mark((function e(t){return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o["c"])("/we/vehicle/application/departureConfirm",Object(c["a"])({method:"POST"},t||{})));case 1:case"end":return e.stop()}}),e)}))),S.apply(this,arguments)}function L(e){return T.apply(this,arguments)}function T(){return T=Object(r["a"])(i.a.mark((function e(t){return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o["c"])("/we/vehicle/application/arriveConfirm",Object(c["a"])({method:"POST"},t||{})));case 1:case"end":return e.stop()}}),e)}))),T.apply(this,arguments)}function C(e){return A.apply(this,arguments)}function A(){return A=Object(r["a"])(i.a.mark((function e(t){return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o["c"])("/we/vehicle/application/getEvaluationList",Object(c["a"])({method:"POST"},t||{})));case 1:case"end":return e.stop()}}),e)}))),A.apply(this,arguments)}function F(e){return P.apply(this,arguments)}function P(){return P=Object(r["a"])(i.a.mark((function e(t){return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o["c"])("/we/vehicle/application/useEvaluation",Object(c["a"])({method:"POST"},t||{})));case 1:case"end":return e.stop()}}),e)}))),P.apply(this,arguments)}function I(e){return M.apply(this,arguments)}function M(){return M=Object(r["a"])(i.a.mark((function e(t){return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o["c"])("/we/vehicle/application/JudgeAvailability",Object(c["a"])({method:"POST"},t||{})));case 1:case"end":return e.stop()}}),e)}))),M.apply(this,arguments)}}}]);