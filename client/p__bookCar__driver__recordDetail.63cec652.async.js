(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[22],{AbPv:function(e,t,c){"use strict";var n=c("tJVT"),a=c("q1tI"),r=c("nKUr"),s="tomp";function i(e){var t,c=e.applyData,i=Object(a["useState"])(new Array(5).fill(!1)),o=Object(n["a"])(i,2),l=o[0],d=(o[1],null===c||void 0===c||null===(t=c.vehicleUsageRecordList)||void 0===t?void 0:t.map(((e,t)=>{var c;return Object(r["jsxs"])("div",{className:"p-4 border rounded-md border-r-gray-200 bg-white my-1",_nk:"".concat(s,"11"),children:[Object(r["jsxs"])("div",{className:"flex items-center justify-between",_nk:"".concat(s,"12"),children:[Object(r["jsxs"])("div",{className:"flex items-center justify-between",_nk:"".concat(s,"13"),children:[Object(r["jsx"])("span",{className:"inline-block p-2 text-blue-500 bg-blue-100 rounded-md",_nk:"".concat(s,"21"),children:Object(r["jsx"])("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",_nk:"".concat(s,"31"),children:Object(r["jsx"])("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z",_nk:"".concat(s,"41")})})}),Object(r["jsxs"])("div",{className:"mx-4 mt-0",_nk:"".concat(s,"14"),children:[Object(r["jsx"])("p",{className:"text-base font-medium text-gray-700 capitalize",_nk:"".concat(s,"51"),children:e.driverName}),Object(r["jsx"])("p",{className:"text-xs text-gray-700",_nk:"".concat(s,"52"),children:e.driverMobile})]})]}),Object(r["jsxs"])("div",{className:"text-gray-400",_nk:"".concat(s,"15"),children:["\u8f66\u724c\uff1a",Object(r["jsx"])("span",{className:"border border-blue-400 bg-white text-blue-400 rounded px-1",_nk:"".concat(s,"22"),children:e.vehicleInfo})]})]}),Object(r["jsxs"])("ul",{className:"flex items-center justify-center gap-x-1 p-4 py-2 my-1.5",_nk:"".concat(s,"61"),children:[Object(r["jsx"])("li",{_nk:"".concat(s,"71"),children:"\u51fa\u884c\u4f53\u9a8c\u6253\u5206\uff1a"}),l.map(((t,c)=>Object(r["jsx"])("li",{_nk:"iAr".concat(s,"72"),children:Object(r["jsx"])("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-yellow-500 ".concat(e.evaluationScore>c?"fill-current":""),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",_nk:"".concat(s,"32"),children:Object(r["jsx"])("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z",_nk:"".concat(s,"42")})})},c)))]}),Object(r["jsx"])("div",{_nk:"".concat(s,"16"),children:Object(r["jsx"])("textarea",{disabled:!0,value:null!==(c=e.evaluationContent)&&void 0!==c?c:"",className:"w-full py-2 px-4 border focus:border-blue-400 text-sm rounded text-gray-800 bg-gray-100",_nk:"".concat(s,"81")})})]},t)})));return Object(r["jsx"])(r["Fragment"],{children:0!==c.vehicleUsageRecordList.length&&"\u5df2\u5b8c\u6210"===c.vehicleApplicationForm.status?Object(r["jsxs"])("div",{className:"m-2",_nk:"".concat(s,"17"),children:[Object(r["jsx"])("div",{className:"text-gray-400 text-base mb-1",_nk:"".concat(s,"18"),children:"\u8bc4\u4ef7\u4fe1\u606f"}),d]}):Object(r["jsx"])("div",{className:"mx-auto text-lg font-bold text-gray-500 py-2 my-1 text-center",_nk:"".concat(s,"19"),children:"\u6682\u65e0\u7528\u8f66\u8bc4\u4ef7"})})}t["a"]=Object(a["memo"])(i)},E2hq:function(e,t,c){"use strict";c.r(t),c.d(t,"default",(function(){return f}));var n=c("k1fw"),a=c("9og8"),r=c("tJVT"),s=c("WmNS"),i=c.n(s),o=c("q1tI"),l=c("9mPY"),d=c("pf/J"),u=c("Ty5D"),b=c("9kvl"),j=c("pAFO"),p=c("sda0"),v=c("tU6r"),x=c("B16J"),m=c("5Ipf"),h=c("AbPv"),O=c("nKUr"),k="yko/";function f(){var e=Object(u["h"])(),t=e,c=Object(b["e"])("@@initialState"),s=c.initialState,f=s,w=Object(o["useState"])(),g=Object(r["a"])(w,2),y=g[0],_=g[1],N=function(){var e=Object(a["a"])(i.a.mark((function e(){var c;return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(j["b"])({params:{id:t.id}});case 2:c=e.sent,c&&c.status&&_(c.result);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(o["useEffect"])((()=>{N()}),[]);var L=Object(o["useState"])({applicationFormId:t.id,driverName:"",driverMobile:"",vehicleInfo:""}),A=Object(r["a"])(L,2),F=A[0],M=A[1],I=function(){var e=Object(a["a"])(i.a.mark((function e(){return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:null===y||void 0===y||y.vehicleAssignmentFormList.forEach((e=>{e.driverMobile.includes(f.user.phoneNumber)&&M(Object(n["a"])(Object(n["a"])({},F),{},{driverName:e.driverName,driverMobile:e.driverMobile,vehicleInfo:e.vehicleInfo}))}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(o["useEffect"])((()=>{I()}),[null===y||void 0===y?void 0:y.vehicleApplicationForm.pid]);var S=Object(o["useState"])(!1),D=Object(r["a"])(S,2),J=D[0],U=D[1],z=function(){var e=Object(a["a"])(i.a.mark((function e(){var t;return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!J){e.next=2;break}return e.abrupt("return");case 2:return U(!0),e.prev=3,e.next=6,Object(j["j"])({data:F});case 6:t=e.sent,t&&t.status?(d["a"].show("".concat(t.message,",\u5373\u5c06\u8df3\u8f6c\u56de\u524d\u4e00\u9875")),setTimeout((()=>{U(!1),history.go(-1)}),1e3)):U(!1),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](3),U(!1);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}(),C="\u6d3e\u8f66\u6210\u529f"===(null===y||void 0===y?void 0:y.vehicleApplicationForm.status)&&Object(O["jsx"])(O["Fragment"],{children:null===y||void 0===y?void 0:y.vehicleAssignmentFormList.map((e=>Object(O["jsx"])("div",{_nk:"".concat(k,"11"),children:Object(O["jsx"])("button",{onClick:()=>z(),className:"w-64 block mx-auto px-4 py-1 text-base tracking-wide text-white transition-colors duration-200 transform bg-blue-400 rounded hover:bg-blue-600 focus:outline-none focus:bg-blue-600",_nk:"".concat(k,"21"),children:"\u786e\u8ba4\u53d1\u8f66"})},e.pid)))});return Object(O["jsxs"])(O["Fragment"],{children:[Object(O["jsx"])("div",{className:"sticky top-0 bg-white z-10",_nk:"".concat(k,"12"),children:Object(O["jsx"])(l["a"],{title:"\u8ba2\u8f66\u8be6\u60c5",_nk:"".concat(k,"31")})}),y&&Object(O["jsx"])(p["a"],{applyData:y,_nk:"".concat(k,"41")}),y&&Object(O["jsx"])(v["a"],{applyData:y,_nk:"".concat(k,"51")}),y&&Object(O["jsx"])(x["a"],{applyData:y,_nk:"".concat(k,"61")}),y&&Object(O["jsx"])(m["a"],{applyData:y,_nk:"".concat(k,"71")}),C&&Object(O["jsx"])("div",{className:"m-2",_nk:"".concat(k,"13"),children:C}),y&&Object(O["jsx"])(h["a"],{applyData:y,_nk:"".concat(k,"81")})]})}}}]);