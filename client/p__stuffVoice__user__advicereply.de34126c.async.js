(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[87],{uk8H:function(e,t,c){e.exports=c.p+"static/hotTopicBG.d1c3cc4a.png"},xJdk:function(e,t,c){"use strict";c.r(t),c.d(t,"default",(function(){return p}));var a=c("9og8"),n=c("tJVT"),r=c("WmNS"),l=c.n(r),s=c("9mPY"),i=c("q1tI"),o=c("LQih"),d=c("9kvl"),b=c("Wgwc"),u=c.n(b),x=c("uk8H"),j=c.n(x),m=c("nKUr"),h="56sD";function p(){var e=Object(d["e"])("@@initialState"),t=e.initialState,c=(e.loading,e.error,e.refresh,e.setInitialState,t),r=sessionStorage.getItem("adviceid"),b=c.user.id,x=sessionStorage.getItem("adviceregid"),p=Object(i["useState"])(),g=Object(n["a"])(p,2),f=g[0],v=g[1],k=Object(i["useState"])(),O=Object(n["a"])(k,2),w=O[0],y=O[1],_=Object(i["useState"])(),N=Object(n["a"])(_,2),S=N[0],I=N[1],C=Object(i["useState"])(),Y=Object(n["a"])(C,2),H=Y[0],J=Y[1],D=Object(i["useState"])(),E=Object(n["a"])(D,2),T=E[0],z=E[1],M=function(){var e=Object(a["a"])(l.a.mark((function e(){var t,c;return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(o["k"])({data:{userid:b}});case 3:t=e.sent,void 0!=t&&(c=t.result,v(c)),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(a["a"])(l.a.mark((function e(){var t,c;return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(o["k"])({data:{userid:x}});case 3:t=e.sent,void 0!=t&&(c=t.result,I(c)),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(a["a"])(l.a.mark((function e(){var t,c;return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(o["h"])({data:{pid:r}});case 3:t=e.sent,void 0!=t&&(c=t.result,y(c)),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(a["a"])(l.a.mark((function e(){var t,c;return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(o["o"])({data:{adviceid:r}});case 3:t=e.sent,void 0!=t&&(c=t.result,J(c)),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(a["a"])(l.a.mark((function e(){var t,c;return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["w"])({data:{id:r,module:7}});case 2:t=e.sent,void 0!=t&&(c=t.result,z(c));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(i["useEffect"])((()=>{M(),W(),q(),B(),G()}),[]),Object(i["useEffect"])((()=>{console.log(S)}),[f,S,w,H]);var K=Object(i["useState"])(""),L=Object(n["a"])(K,2),P=L[0],Q=L[1],U=()=>{history.go(-1)},V=function(){var e=Object(a["a"])(l.a.mark((function e(){var t,c;return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!=P.length){e.next=4;break}alert("\u8bf7\u8f93\u5165\u56de\u590d\u5185\u5bb9"),e.next=14;break;case 4:return e.prev=4,e.next=7,Object(o["z"])({data:{adviceid:r,replierid:null===f||void 0===f?void 0:f.userid,content:P,repliername:null===f||void 0===f?void 0:f.name,replierimg:null===f||void 0===f?void 0:f.img,replierpart:null===f||void 0===f?void 0:f.partment}});case 7:t=e.sent,void 0!=t&&(c=t.result,y(c),history.go(-1)),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](4),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(){return e.apply(this,arguments)}}();return Object(i["useEffect"])((()=>{}),[P]),Object(m["jsxs"])("div",{className:"min-h-screen bg-white",_nk:"".concat(h,"11"),children:[Object(m["jsx"])(s["a"],{className:"sticky top-0 z-10",title:"\u56de\u590d\u610f\u89c1",_nk:"".concat(h,"21")}),Object(m["jsxs"])("div",{className:"flex flex-col m-4",_nk:"".concat(h,"12"),children:[Object(m["jsxs"])("div",{className:"flex flex-col items-center",_nk:"".concat(h,"13"),children:[Object(m["jsx"])("div",{className:"text-xl font-semibold text-black",_nk:"".concat(h,"14"),children:"\u53ef\u56de\u590d\u7684\u5efa\u8bae"}),Object(m["jsx"])("div",{className:"w-8 h-1 mt-2 mb-4 center rounded-full bg-gradient-to-l from-blue-300 via-blue-500 to-blue-700",_nk:"".concat(h,"15")})]}),Object(m["jsxs"])("div",{className:"form space-y-4 mt-5",_nk:"".concat(h,"16"),children:[Object(m["jsxs"])("div",{className:"w-full space-y-2",_nk:"".concat(h,"17"),children:[Object(m["jsx"])("label",{className:"text-base font-semibold text-gray-800",_nk:"".concat(h,"31"),children:"\u5efa\u8bae\u63d0\u51fa\u4eba"}),Object(m["jsxs"])("div",{className:"h-32 w-full bg-cover bg-no-repeat bg-center rounded-lg flex justify-center items-center shadow",style:{backgroundImage:"url('".concat(j.a,"')")},_nk:"".concat(h,"18"),children:[Object(m["jsx"])("div",{className:"h-32 w-2/5 flex justify-center items-center mx-4",_nk:"".concat(h,"19"),children:Object(m["jsx"])("img",{className:"h-20 w-20 rounded-full",src:null===S||void 0===S?void 0:S.img,alt:"\u5934\u50cf",_nk:"".concat(h,"41")})}),Object(m["jsxs"])("div",{className:"h-32 mx-2 w-3/5 flex flex-col justify-center",_nk:"".concat(h,"1a"),children:[Object(m["jsx"])("p",{className:"text-white font-bold text-2xl",_nk:"".concat(h,"51"),children:null===S||void 0===S?void 0:S.name}),Object(m["jsx"])("p",{className:"text-white text-base",_nk:"".concat(h,"52"),children:null===S||void 0===S?void 0:S.partment})]})]})]}),Object(m["jsxs"])("div",{className:"w-full space-y-2",_nk:"".concat(h,"1b"),children:[Object(m["jsx"])("label",{className:"text-base font-semibold text-gray-800",_nk:"".concat(h,"32"),children:"\u4e1a\u52a1\u7c7b\u578b"}),Object(m["jsx"])("select",{className:"w-full bg-gray-100 text-grey-darker border border-grey-lighter rounded-lg h-10 px-4",disabled:!0,name:"integration[city_id]",id:"integration_city_id",_nk:"".concat(h,"61"),children:Object(m["jsx"])("option",{value:"",_nk:"".concat(h,"71"),children:null===w||void 0===w?void 0:w.type})})]}),Object(m["jsxs"])("div",{className:"w-full space-y-2",_nk:"".concat(h,"1c"),children:[Object(m["jsx"])("label",{className:"text-base font-semibold text-gray-800",_nk:"".concat(h,"33"),children:"\u6807\u9898"}),Object(m["jsx"])("input",{className:"appearance-none block w-full bg-gray-100 text-grey-darker border border-grey-lighter rounded-lg h-10 px-4",placeholder:null===w||void 0===w?void 0:w.title,readOnly:!0,type:"text",name:"integration[street_address]",id:"integration_street_address",_nk:"".concat(h,"81")})]}),Object(m["jsxs"])("div",{className:"w-full space-y-2",_nk:"".concat(h,"1d"),children:[Object(m["jsx"])("label",{className:"text-base font-semibold text-gray-800",_nk:"".concat(h,"34"),children:"\u5efa\u8bae\u90e8\u95e8"}),Object(m["jsx"])("select",{className:"block w-full bg-gray-100 text-grey-darker border border-grey-lighter rounded-lg h-10 px-4",disabled:!0,name:"integration[city_id]",id:"integration_city_id",_nk:"".concat(h,"62"),children:Object(m["jsx"])("option",{value:"",_nk:"".concat(h,"72"),children:null===w||void 0===w?void 0:w.topart})})]}),Object(m["jsxs"])("div",{className:"w-full space-y-2",_nk:"".concat(h,"1e"),children:[Object(m["jsx"])("label",{className:"text-base font-semibold text-gray-800",_nk:"".concat(h,"35"),children:"\u8be6\u7ec6\u60c5\u51b5"}),Object(m["jsx"])("textarea",{name:"message",id:"",spellCheck:"false",className:"w-full min-h-[100px] max-h-[300px] h-28 appearance-none block w-full bg-gray-100 text-grey-darker border border-grey-lighter rounded-lg py-4 px-4",readOnly:!0,placeholder:null===w||void 0===w?void 0:w.content,_nk:"".concat(h,"91")})]}),Object(m["jsx"])("div",{className:"grid grid-cols-4 gap-4 my-2",_nk:"".concat(h,"1f"),children:null===T||void 0===T?void 0:T.map(((e,t)=>{var c=e;return Object(m["jsx"])("div",{className:"bg-white relative border border-blue-500 rounded-lg bg-gray-700",_nk:"".concat(h,"1g"),children:Object(m["jsx"])("a",{target:"_blank",_nk:"".concat(h,"a1"),children:Object(m["jsx"])("img",{className:"w-20 h-24 object-contain",src:c.base64,alt:"",_nk:"".concat(h,"42")})})},c.picId)}))}),Object(m["jsx"])("div",{_nk:"".concat(h,"1h"),children:Object(m["jsx"])("label",{className:"text-base font-semibold text-gray-800",_nk:"".concat(h,"36"),children:"\u5386\u53f2\u56de\u590d"})}),null===H||void 0===H?void 0:H.map(((e,t)=>Object(m["jsxs"])("div",{className:"py-3 bg-white flex items-start shadow rounded-lg",_nk:"".concat(h,"1i"),children:[Object(m["jsx"])("div",{className:"m-2 w-1/5 h-full ",_nk:"".concat(h,"1j"),children:Object(m["jsx"])("img",{alt:"\u5934\u50cf",className:"h-full w-full rounded-full",src:e.replierimg,_nk:"".concat(h,"43")})}),Object(m["jsxs"])("div",{className:"ml-2 w-full h-full",_nk:"".concat(h,"1k"),children:[Object(m["jsxs"])("div",{className:"flex flex-col",_nk:"".concat(h,"1l"),children:[Object(m["jsxs"])("div",{className:"flex justify-between",_nk:"".concat(h,"1m"),children:[Object(m["jsx"])("p",{className:"text-xl font-bold text-gray-700",_nk:"".concat(h,"53"),children:e.repliername}),Object(m["jsx"])("p",{className:"text-base font-normal text-gray-400 mr-2",_nk:"".concat(h,"54"),children:u()(e.createdTime).format("YYYY-MM-DD HH:mm:ss")})]}),Object(m["jsx"])("div",{className:"text-base font-normal",_nk:"".concat(h,"1n"),children:e.replierpart})]}),Object(m["jsx"])("p",{className:"text-gray-400 text-lg mr-2 mt-2",_nk:"".concat(h,"55"),children:e.replycontent})]})]},e.pid))),Object(m["jsxs"])("div",{className:"w-full space-y-2",_nk:"".concat(h,"1o"),children:[Object(m["jsx"])("label",{className:"text-base font-semibold text-gray-800",_nk:"".concat(h,"37"),children:"\u65b0\u56de\u590d"}),Object(m["jsx"])("textarea",{name:"message",id:"",className:"w-full h-28 appearance-none block bg-gray-100 text-grey-darker border border-grey-lighter rounded-lg py-4 px-4",placeholder:"\u8bf7\u8f93\u5165\u65b0\u56de\u590d\u5185\u5bb9",spellCheck:"false",onChange:e=>{Q(e.target.value)},_nk:"".concat(h,"92")})]}),Object(m["jsxs"])("div",{className:"flex flex-col",_nk:"".concat(h,"1p"),children:[Object(m["jsx"])("button",{className:"w-full mb-2 bg-blue-500 p-2 text-base shadow font-semibold tracking-wider text-white rounded-full",onClick:()=>V(),_nk:"".concat(h,"b1"),children:"\u63d0\u4ea4"}),Object(m["jsx"])("button",{className:"w-full mb-2 bg-gray-500 p-2 text-base shadow font-semibold tracking-wider text-white rounded-full",onClick:()=>U(),_nk:"".concat(h,"b2"),children:"\u53d6\u6d88"})]})]})]})]})}}}]);