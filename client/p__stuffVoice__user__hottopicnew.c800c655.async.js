(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[86],{"3/Ds":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var c=n("9og8"),a=n("tJVT"),r=n("WmNS"),o=n.n(r),s=n("9mPY"),i=n("q1tI"),l=n("pf/J"),u=n("+DKU"),d=n("4maU"),b=n("LQih"),p=n("N+uz"),h=n("nKUr"),j="EE9z";function v(){var e=sessionStorage.getItem("Newname"),t=Object(i["useState"])(),n=Object(a["a"])(t,2),r=n[0],v=n[1],m=Object(i["useState"])(""),g=Object(a["a"])(m,2),f=g[0],x=g[1],k=Object(i["useState"])([]),w=Object(a["a"])(k,2),O=w[0],_=w[1],N=Object(i["useState"])(["0"]),y=Object(a["a"])(N,2),S=y[0],I=(y[1],(e,t)=>{console.log(t+"   vvvvvv +userData.user.id;  "+e),sessionStorage.setItem("topicRegid",t.toString()),sessionStorage.setItem("topicid",e.toString())}),L=function(){var t=Object(c["a"])(o.a.mark((function t(){var n,c;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(b["n"])({data:{id:e}});case 3:n=t.sent,void 0!=n&&(c=n.result,v((()=>c))),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();Object(i["useEffect"])((()=>{L()}),[]);var z=function(){var e=Object(c["a"])(o.a.mark((function e(){var t;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0===f.length&&l["a"].show("\u8bf7\u586b\u5199\u5185\u5bb9"),0===f.length){e.next=15;break}return e.prev=2,e.next=5,Object(b["C"])({data:{regid:null===r||void 0===r?void 0:r.pid,name:null===r||void 0===r?void 0:r.name,topiccontent:f,img:null===r||void 0===r?void 0:r.img,pic:S}});case 5:return t=e.sent,e.next=8,Object(b["Q"])({data:{regid:null===r||void 0===r?void 0:r.pid,count:null===r||void 0===r?void 0:r.topiccount}});case 8:e.sent,void 0!=t&&(console.log(t.result),I(t.result,null===r||void 0===r?void 0:r.pid),d["a"].push("/stuffVoice/user/home/hottopic/content")),e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](2),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(c["a"])(o.a.mark((function e(t){var n,c,a;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return l["a"].show("\u4e0a\u4f20\u56fe\u7247\u4e2d\uff0c\u8bf7\u8010\u5fc3\u7b49\u5f85"),e.prev=1,n=new FormData,n.append("file",t.file),console.log(n),e.next=7,Object(p["a"])({data:n});case 7:c=e.sent,c&&c.status&&(l["a"].show("\u4e0a\u4f20\u56fe\u7247\u6210\u529f"),"0"==S[0]?S[0]=c.result.IDInfoList[0].ImageId:S.push(c.result.IDInfoList[0].ImageId),a=O.concat(t),console.log(S),_(a)),e.next=13;break;case 11:e.prev=11,e.t0=e["catch"](1);case 13:console.log(t);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),D=e=>{var t=[...O];t.splice(e,1),S.splice(e,1),console.log(S+"    deleteImg "),_(t)};return Object(h["jsxs"])("div",{className:"min-h-screen bg-white",_nk:"".concat(j,"11"),children:[Object(h["jsx"])(s["a"],{className:"sticky top-0 z-10",title:"\u63d0\u51fa\u65b0\u8bdd\u9898",_nk:"".concat(j,"21")}),Object(h["jsx"])("div",{className:"p-4",_nk:"".concat(j,"12"),children:Object(h["jsx"])("textarea",{className:"block w-full px-4 py-2 h-64 text-gray-700 bg-white border-2 border border-blue-500 rounded-md focus:border-blue-500 dark:focus:border-blue-500 focus:outline-none focus:ring",placeholder:"\u8bf4\u70b9\u4ec0\u4e48\u5427\uff01",value:f,onChange:e=>x(e.target.value),_nk:"".concat(j,"31")})}),Object(h["jsx"])("div",{className:"px-4",_nk:"".concat(j,"13"),children:Object(h["jsx"])("div",{className:"w-full bg-blue-100 bg-opacity-60 flex justify-center items-center border border-dashed border-blue-300 rounded-lg",_nk:"".concat(j,"14"),children:Object(h["jsx"])(u["a"],{onChange:C,accept:"image/*",_nk:"".concat(j,"41"),children:Object(h["jsxs"])("div",{className:"flex flex-col items-center py-2",_nk:"".concat(j,"15"),children:[Object(h["jsx"])("div",{className:"h-14 w-14 bg-blue-400 my-2 rounded-full flex justify-center items-center",_nk:"".concat(j,"16"),children:Object(h["jsxs"])("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",_nk:"".concat(j,"51"),children:[Object(h["jsx"])("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z",_nk:"".concat(j,"61")}),Object(h["jsx"])("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z",_nk:"".concat(j,"62")})]})}),Object(h["jsx"])("p",{className:"text-base font-medium text-blue-500 my-1",_nk:"".concat(j,"71"),children:"\u4e0a\u4f20\u56fe\u7247"})]})})})}),Object(h["jsx"])("div",{className:"grid grid-cols-3 gap-4 my-2 px-4",_nk:"".concat(j,"17"),children:O.map(((e,t)=>{var n=e;return Object(h["jsxs"])("div",{className:"bg-white relative border border-blue-500 rounded-lg bg-gray-700",_nk:"iAr".concat(j,"18"),children:[Object(h["jsx"])("div",{className:"absolute text-white top-0 right-0",onClick:()=>D(t),_nk:"".concat(j,"19"),children:Object(h["jsx"])("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",_nk:"".concat(j,"52"),children:Object(h["jsx"])("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z",_nk:"".concat(j,"63")})})}),Object(h["jsx"])("a",{href:n.thumbnail,target:"_blank",_nk:"".concat(j,"81"),children:Object(h["jsx"])("img",{className:"w-24 h-24 object-contain",src:n.thumbnail,alt:"",_nk:"".concat(j,"91")})})]},t)}))}),Object(h["jsx"])("button",{className:"block sticky bottom-24 w-24 mx-auto bg-blue-600 text-white text-base font-semibold rounded-full shadow hover:bg-indigo-600 px-4 py-1",type:"submit",onClick:()=>z(),_nk:"".concat(j,"a1"),children:"\u53d1\u8868"})]})}},"4maU":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var c=n("YS25"),a={basename:"/"};window.routerBase&&(a.basename=window.routerBase);var r=Object({NODE_ENV:"production"}).__IS_SERVER?null:Object(c["b"])(a)},"N+uz":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var c=n("k1fw"),a=n("9og8"),r=n("WmNS"),o=n.n(r),s=n("9kvl");function i(e){return l.apply(this,arguments)}function l(){return l=Object(a["a"])(o.a.mark((function e(t){return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(s["c"])("/pic/upload/upload-pic-group",Object(c["a"])({requestType:"form",method:"POST"},t||{})));case 1:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)}}}]);