(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[88],{uk8H:function(e,t,c){e.exports=c.p+"static/hotTopicBG.d1c3cc4a.png"},xJdk:function(e,t,c){"use strict";c.r(t),c.d(t,"default",(function(){return h}));var a=c("9og8"),n=c("tJVT"),r=c("WmNS"),s=c.n(r),l=c("9mPY"),i=c("q1tI"),o=c("LQih"),d=c("9kvl"),u=c("Wgwc"),b=c.n(u),x=c("uk8H"),j=c.n(x),p=c("nKUr"),m="56sD";function h(){var e=Object(d["e"])("@@initialState"),t=e.initialState,c=(e.loading,e.error,e.refresh,e.setInitialState,t),r=sessionStorage.getItem("advicecontentid"),u=c.user.id,x=sessionStorage.getItem("adviceuserid"),h=Object(i["useState"])(),v=Object(n["a"])(h,2),f=v[0],g=v[1],k=Object(i["useState"])(),O=Object(n["a"])(k,2),w=O[0],y=O[1],_=Object(i["useState"])(),N=Object(n["a"])(_,2),S=N[0],I=N[1],C=Object(i["useState"])(),Y=Object(n["a"])(C,2),H=Y[0],J=Y[1],D=Object(i["useState"])(),T=Object(n["a"])(D,2),A=T[0],M=T[1],W=function(){var e=Object(a["a"])(s.a.mark((function e(){var t,c;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(o["l"])({data:{userid:u}});case 3:t=e.sent,void 0!=t&&(c=t.result,g(c)),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(a["a"])(s.a.mark((function e(){var t,c;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(o["l"])({data:{userid:x}});case 3:t=e.sent,void 0!=t&&(c=t.result,I(c)),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(a["a"])(s.a.mark((function e(){var t,c;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(o["i"])({data:{pid:r}});case 3:t=e.sent,void 0!=t&&(c=t.result,y(c)),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(a["a"])(s.a.mark((function e(){var t,c;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(o["p"])({data:{adviceid:r}});case 3:t=e.sent,void 0!=t&&(c=t.result,J(c)),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(a["a"])(s.a.mark((function e(){var t,c;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["x"])({data:{id:r,module:7}});case 2:t=e.sent,void 0!=t&&(c=t.result,M(c));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(i["useEffect"])((()=>{W(),q(),z(),B(),E()}),[]);var G=Object(i["useState"])(""),K=Object(n["a"])(G,2),L=K[0],P=K[1],Q=function(){var e=Object(a["a"])(s.a.mark((function e(){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(o["A"])({data:{adviceid:r,repltype:"1"}});case 3:e.sent,history.go(-1),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(a["a"])(s.a.mark((function e(){var t,c;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!=L.length){e.next=4;break}alert("\u8bf7\u8f93\u5165\u56de\u590d\u5185\u5bb9"),e.next=14;break;case 4:return e.prev=4,e.next=7,Object(o["A"])({data:{adviceid:r,replierid:null===f||void 0===f?void 0:f.userid,content:L,repliername:null===f||void 0===f?void 0:f.name,replierimg:null===f||void 0===f?void 0:f.img,replierpart:null===f||void 0===f?void 0:f.partment,repltype:"2"}});case 7:t=e.sent,void 0!=t&&(c=t.result,y(c),history.go(-1)),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](4),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(){return e.apply(this,arguments)}}();return Object(p["jsxs"])("div",{className:"min-h-screen bg-white",_nk:"".concat(m,"11"),children:[Object(p["jsx"])(l["a"],{className:"sticky top-0 z-10",title:"\u56de\u590d\u610f\u89c1",_nk:"".concat(m,"21")}),Object(p["jsxs"])("div",{className:"flex flex-col m-4",_nk:"".concat(m,"12"),children:[Object(p["jsxs"])("div",{className:"flex flex-col items-center",_nk:"".concat(m,"13"),children:[Object(p["jsx"])("div",{className:"text-xl font-semibold text-black",_nk:"".concat(m,"14"),children:"\u53ef\u56de\u590d\u7684\u5efa\u8bae"}),Object(p["jsx"])("div",{className:"w-8 h-1 mt-2 mb-4 center rounded-full bg-gradient-to-l from-blue-300 via-blue-500 to-blue-700",_nk:"".concat(m,"15")})]}),Object(p["jsxs"])("div",{className:"form space-y-4 mt-5",_nk:"".concat(m,"16"),children:[Object(p["jsxs"])("div",{className:"w-full space-y-2",_nk:"".concat(m,"17"),children:[Object(p["jsx"])("label",{className:"text-base font-semibold text-gray-800",_nk:"".concat(m,"31"),children:"\u5efa\u8bae\u63d0\u51fa\u4eba"}),Object(p["jsxs"])("div",{className:"h-32 w-full bg-cover bg-no-repeat bg-center rounded-lg flex justify-center items-center shadow",style:{backgroundImage:"url('".concat(j.a,"')")},_nk:"".concat(m,"18"),children:[Object(p["jsx"])("div",{className:"h-32 w-2/5 flex justify-center items-center mx-4",_nk:"".concat(m,"19"),children:Object(p["jsx"])("img",{className:"h-20 w-20 rounded-full",src:null===S||void 0===S?void 0:S.img,alt:"\u5934\u50cf",_nk:"".concat(m,"41")})}),Object(p["jsxs"])("div",{className:"h-32 mx-2 w-3/5 flex flex-col justify-center",_nk:"".concat(m,"1a"),children:[Object(p["jsx"])("p",{className:"text-white font-bold text-2xl",_nk:"".concat(m,"51"),children:null===S||void 0===S?void 0:S.name}),Object(p["jsx"])("p",{className:"text-white text-base",_nk:"".concat(m,"52"),children:null===S||void 0===S?void 0:S.partment})]})]})]}),Object(p["jsxs"])("div",{className:"w-full space-y-2",_nk:"".concat(m,"1b"),children:[Object(p["jsx"])("label",{className:"text-base font-semibold text-gray-800",_nk:"".concat(m,"32"),children:"\u6807\u9898"}),Object(p["jsx"])("input",{className:"appearance-none block w-full bg-gray-100 text-grey-darker border border-grey-lighter rounded-lg h-10 px-4",placeholder:null===w||void 0===w?void 0:w.title,readOnly:!0,type:"text",name:"integration[street_address]",id:"integration_street_address",_nk:"".concat(m,"61")})]}),Object(p["jsxs"])("div",{className:"w-full space-y-2",_nk:"".concat(m,"1c"),children:[Object(p["jsx"])("label",{className:"text-base font-semibold text-gray-800",_nk:"".concat(m,"33"),children:"\u8be6\u7ec6\u60c5\u51b5"}),Object(p["jsx"])("textarea",{name:"message",id:"",spellCheck:"false",className:"w-full min-h-[100px] max-h-[300px] h-28 appearance-none block w-full bg-gray-100 text-grey-darker border border-grey-lighter rounded-lg py-4 px-4",readOnly:!0,placeholder:null===w||void 0===w?void 0:w.content,_nk:"".concat(m,"71")})]}),Object(p["jsx"])("div",{className:"grid grid-cols-4 gap-4 my-2",_nk:"".concat(m,"1d"),children:null===A||void 0===A?void 0:A.map(((e,t)=>{var c=e;return Object(p["jsx"])("div",{className:"bg-white relative border border-blue-500 rounded-lg bg-gray-700",_nk:"".concat(m,"1e"),children:Object(p["jsx"])("a",{target:"_blank",_nk:"".concat(m,"81"),children:Object(p["jsx"])("img",{className:"w-20 h-24 object-contain",src:c.base64,alt:"",_nk:"".concat(m,"42")})})},c.picId)}))}),Object(p["jsx"])("div",{_nk:"".concat(m,"1f"),children:Object(p["jsx"])("label",{className:"text-base font-semibold text-gray-800",_nk:"".concat(m,"34"),children:"\u5904\u7406\u610f\u89c1"})}),null===H||void 0===H?void 0:H.map(((e,t)=>Object(p["jsxs"])("div",{className:"py-3 bg-white flex items-start shadow rounded-lg",_nk:"".concat(m,"1g"),children:[Object(p["jsx"])("div",{className:"m-2 w-1/5 h-full ",_nk:"".concat(m,"1h"),children:Object(p["jsx"])("img",{alt:"\u5934\u50cf",className:"h-full w-full rounded-full",src:e.replierimg,_nk:"".concat(m,"43")})}),Object(p["jsxs"])("div",{className:"ml-2 w-full h-full",_nk:"".concat(m,"1i"),children:[Object(p["jsxs"])("div",{className:"flex flex-col",_nk:"".concat(m,"1j"),children:[Object(p["jsxs"])("div",{className:"flex justify-between",_nk:"".concat(m,"1k"),children:[Object(p["jsx"])("p",{className:"text-xl font-bold text-gray-700",_nk:"".concat(m,"53"),children:e.repliername}),Object(p["jsx"])("p",{className:"text-base font-normal text-gray-400 mr-2",_nk:"".concat(m,"54"),children:b()(e.createdTime).format("YYYY-MM-DD HH:mm:ss")})]}),Object(p["jsx"])("div",{className:"text-base font-normal",_nk:"".concat(m,"1l"),children:e.replierpart})]}),Object(p["jsx"])("p",{className:"text-gray-400 text-lg mr-2 mt-2",_nk:"".concat(m,"55"),children:e.replycontent})]})]},e.pid))),Object(p["jsxs"])("div",{className:"w-full space-y-2",_nk:"".concat(m,"1m"),children:[Object(p["jsx"])("label",{className:"text-base font-semibold text-gray-800",_nk:"".concat(m,"35"),children:"\u65b0\u56de\u590d"}),Object(p["jsx"])("textarea",{name:"message",id:"",className:"w-full h-28 appearance-none block bg-gray-100 text-grey-darker border border-grey-lighter rounded-lg py-4 px-4",placeholder:"\u8bf7\u8f93\u5165\u65b0\u56de\u590d\u5185\u5bb9",spellCheck:"false",onChange:e=>{P(e.target.value)},_nk:"".concat(m,"72")})]}),Object(p["jsxs"])("div",{className:"flex flex-col",_nk:"".concat(m,"1n"),children:[Object(p["jsx"])("button",{className:"w-full mb-2 bg-blue-500 p-2 text-base shadow font-semibold tracking-wider text-white rounded-full",onClick:()=>U(),_nk:"".concat(m,"91"),children:"\u63d0\u4ea4"}),Object(p["jsx"])("button",{className:"w-full mb-2 bg-gray-500 p-2 text-base shadow font-semibold tracking-wider text-white rounded-full",onClick:()=>Q(),_nk:"".concat(m,"92"),children:"\u9a73\u56de"})]})]})]})]})}}}]);