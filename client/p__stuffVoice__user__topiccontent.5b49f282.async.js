(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[87],{SiRT:function(e,t,c){"use strict";c.r(t),c.d(t,"default",(function(){return x}));var n=c("9og8"),a=c("tJVT"),s=c("WmNS"),r=c.n(s),i=c("q1tI"),o=c("9mPY"),l=c("Wgwc"),d=c.n(l),u=c("uzmA"),b=c("NPPy"),j=c("LQih"),m=c("nKUr"),p="qQXz";function x(){var e=sessionStorage.getItem("topicRegid"),t=b,c=sessionStorage.getItem("topicid");console.log(e+"    regid      topicid  "+c);var s=Object(i["useState"])(),l=Object(a["a"])(s,2),x=l[0],h=l[1],f=Object(i["useState"])(),O=Object(a["a"])(f,2),v=O[0],g=O[1],k=Object(i["useState"])(),w=Object(a["a"])(k,2),y=(w[0],w[1],Object(i["useState"])()),N=Object(a["a"])(y,2),_=N[0],S=N[1],Y=function(){var e=Object(n["a"])(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(j["q"])({data:{topicid:c}});case 3:t=e.sent,n=t.result,console.log(n+" result result"),g(n),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),C=function(){var t=Object(n["a"])(r.a.mark((function t(){var n,a;return r.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(j["p"])({data:{topicid:c,regid:e}});case 2:n=t.sent,a=n.result,h(a);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),T=function(){var t=Object(n["a"])(r.a.mark((function t(){var n,a;return r.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(j["w"])({data:{id:c,regid:e,module:6}});case 2:n=t.sent,a=n.result,S(a);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(i["useEffect"])((()=>{}),[v]),Object(i["useEffect"])((()=>{console.log(_+"   pics")}),[_]),Object(i["useEffect"])((()=>{Y(),C(),T()}),[]);var z=function(){var t=Object(n["a"])(r.a.mark((function t(n,a,s){return r.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!=s){t.next=10;break}return t.next=3,Object(j["B"])({data:{regid:e,topicid:c,replyid:n}});case 3:return t.sent,a+=1,t.next=7,Object(j["O"])({data:{replyid:n,hotcount:a}});case 7:t.sent,t.next=17;break;case 10:return a-=1,t.next=13,Object(j["O"])({data:{replyid:n,hotcount:a}});case 13:return t.sent,t.next=16,Object(j["g"])({data:{regid:e,replyid:n}});case 16:t.sent;case 17:C();case 18:case"end":return t.stop()}}),t)})));return function(e,c,n){return t.apply(this,arguments)}}(),E=Object(i["useState"])(""),I=Object(a["a"])(E,2),M=I[0],q=I[1],D=function(){var t=Object(n["a"])(r.a.mark((function t(){return r.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0==M.length){t.next=22;break}return t.prev=1,t.next=4,Object(j["A"])({data:{regid:e,topicid:c,replycontent:M}});case 4:t.sent,q(""),C(),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),console.log(t.t0);case 12:return t.prev=12,t.next=15,Object(j["R"])({data:{id:null===v||void 0===v?void 0:v.pid,replycount:null===v||void 0===v?void 0:v.replynum}});case 15:t.sent,Y(),t.next=22;break;case 19:t.prev=19,t.t1=t["catch"](12),console.log(t.t1);case 22:case"end":return t.stop()}}),t,null,[[1,9],[12,19]])})));return function(){return t.apply(this,arguments)}}();return Object(m["jsxs"])("div",{className:"min-h-screen bg-white",_nk:"".concat(p,"11"),children:[Object(m["jsx"])(o["a"],{className:"sticky top-0 z-10",title:"\u8bdd\u9898\u5185\u5bb9",backTo:"/stuffVoice/user/home/hottopic",_nk:"".concat(p,"21")}),Object(m["jsxs"])("div",{className:"bg-white min-h-screen max-w-full p-4",_nk:"".concat(p,"12"),children:[Object(m["jsxs"])("div",{className:"w-full flex",_nk:"".concat(p,"13"),children:[Object(m["jsx"])("div",{className:"flex w-1/5",_nk:"".concat(p,"14"),children:Object(m["jsx"])("img",{className:"rounded-full h-16 w-16",src:null===v||void 0===v?void 0:v.img,alt:"\u5934\u50cf",_nk:"".concat(p,"31")})}),Object(m["jsxs"])("div",{className:"pl-5 w-4/5",_nk:"".concat(p,"15"),children:[Object(m["jsxs"])("div",{className:"flex justify-between",_nk:"".concat(p,"16"),children:[Object(m["jsx"])("span",{className:"font-bold text-lg",_nk:"".concat(p,"41"),children:null===v||void 0===v?void 0:v.name}),Object(m["jsx"])("p",{className:"text-gray-500 mt-1",_nk:"".concat(p,"51"),children:d()(null===v||void 0===v?void 0:v.createdTime).format("YYYY-MM-DD HH:mm:ss")})]}),Object(m["jsx"])("p",{className:"py-2 text-base my-2 text-gray-600",_nk:"".concat(p,"52"),children:null===v||void 0===v?void 0:v.topiccontent})]})]}),Object(m["jsx"])("div",{className:"p-4 flex",_nk:"".concat(p,"17"),children:null===_||void 0===_?void 0:_.map(((e,t)=>Object(m["jsx"])(u["a"],{className:"w-24 mx-1",src:e.base64,alt:"",_nk:"".concat(p,"61")},t)))}),Object(m["jsx"])("div",{className:"mt-4",_nk:"".concat(p,"18"),children:Object(m["jsx"])("div",{className:"space-y-4 flex-col bg-white",_nk:"".concat(p,"19"),children:null===x||void 0===x?void 0:x.map(((e,c)=>Object(m["jsxs"])("div",{className:"bg-gray-100 flex ml-5 rounded-md shadow",_nk:"".concat(p,"1a"),children:[Object(m["jsx"])("div",{className:"flex-shrink-0 ml-3",_nk:"".concat(p,"1b"),children:Object(m["jsx"])("img",{className:"mt-2 rounded-full w-10 h-10",src:e.img,alt:"\u5934\u50cf",_nk:"".concat(p,"32")})}),Object(m["jsxs"])("div",{className:"w-full rounded-md pl-4 pt-2 pb-1 pr-1 leading-relaxed",_nk:"".concat(p,"1c"),children:[Object(m["jsxs"])("div",{className:"flex justify-between",_nk:"".concat(p,"1d"),children:[Object(m["jsx"])("strong",{className:"text-base",_nk:"".concat(p,"71"),children:e.name}),Object(m["jsx"])("span",{className:"text-sm text-gray-400",_nk:"".concat(p,"42"),children:d()(e.createdTime).format("YYYY-MM-DD HH:mm:ss")})]}),Object(m["jsxs"])("div",{_nk:"".concat(p,"1e"),children:[Object(m["jsx"])("p",{className:"text-base text-gray-500",_nk:"".concat(p,"53"),children:e.replycontent}),Object(m["jsxs"])("div",{className:"mt-1 flex justify-end items-center",_nk:"".concat(p,"1f"),children:[Object(m["jsx"])("div",{className:"flex space-x-2 mr-2",_nk:"".concat(p,"1g"),children:Object(m["jsx"])("img",{className:"rounded-full w-6 h-6 border border-white",src:e.isup?t["thumbsdown"]:t["thumbs"],alt:"\u70b9\u8d5e",onClick:()=>z(e.pid,e.hotcount,e.isup),_nk:"".concat(p,"33")})}),Object(m["jsx"])("div",{className:"text-base text-gray-500 font-semibold",_nk:"".concat(p,"1h"),children:e.hotcount})]})]})]})]},e.pid)))})}),Object(m["jsxs"])("div",{className:"w-full flex justify-center items-center bg-white sticky bottom-2 my-4",_nk:"".concat(p,"1i"),children:[Object(m["jsx"])("input",{className:"w-3/4 rounded-l-full shadow px-4 py-2 focus:outline-none border",type:"text",placeholder:"\u8bf4\u70b9\u4ec0\u4e48\u5427\uff01",value:M,onChange:e=>q(e.target.value),_nk:"".concat(p,"81")}),Object(m["jsx"])("button",{className:"w-1/4 bg-blue-600 text-white text-base font-semibold rounded-r-full shadow hover:bg-indigo-600 py-2",onClick:()=>D(),_nk:"".concat(p,"91"),children:"\u53d1\u8868"})]})]})]})}},uzmA:function(e,t,c){"use strict";var n=c("tJVT"),a=c("q1tI"),s=c("i8i4"),r=c.n(s),i=c("nKUr"),o="x4MR";function l(e){var t=Object(a["useState"])(!1),c=Object(n["a"])(t,2),s=c[0],l=c[1];return Object(a["useEffect"])((()=>{var t=document.createElement("div");s&&(r.a.render(Object(i["jsx"])("div",{onClick:()=>{l(!s),document.body.removeChild(t)},className:"".concat(s?"":"hidden"," z-50 top-0 left-0 fixed w-screen h-screen flex items-center justify-center bg-opacity-60 bg-gray-800"),_nk:"".concat(o,"11"),children:Object(i["jsx"])("img",{src:e.src,className:"w-auto h-auto",_nk:"".concat(o,"21")})}),t),document.body.appendChild(t))}),[s]),Object(i["jsxs"])(i["Fragment"],{children:["bg"===e.type&&Object(i["jsx"])("div",{className:"".concat(e.className?e.className:""," bg-cover bg-center cursor-pointer border"),style:{backgroundImage:"url(".concat(e.src,")")},onClick:()=>l(!0),_nk:"".concat(o,"12")}),(!e.type||"img"===e.type)&&Object(i["jsx"])("img",{src:e.src,className:"".concat(e.className?e.className:""," cursor-pointer border"),onClick:()=>l(!0),_nk:"".concat(o,"22")})]})}t["a"]=Object(a["memo"])(l)}}]);