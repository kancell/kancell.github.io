(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[52],{WC7n:function(e,t,c){"use strict";c.r(t);var a=c("9og8"),n=c("tJVT"),s=c("WmNS"),r=c.n(s),l=c("q1tI"),o=c("55Ip"),i=c("p9jf"),d=c("nKUr"),u="V2cz";function x(e){var t=e.data,c=()=>{var e=[];return e=null===t||void 0===t?void 0:t.map(((e,t)=>{var c;return Object(d["jsx"])(o["a"],{to:"".concat(e.id),_nk:"".concat(u,"11"),children:Object(d["jsx"])("div",{className:"relative",_nk:"".concat(u,"21"),children:Object(d["jsx"])("img",{className:"object-cover w-full h-36",src:null!==(c=e.imgUrl)&&void 0!==c?c:"",_nk:"".concat(u,"31")})})},+t)})),e};return Object(d["jsx"])("section",{className:"relative flex justify-between rounded-lg",_nk:"".concat(u,"41"),children:t&&Object(d["jsx"])(i["a"],{showPagination:!1,autoPlay:!0,autoPlayIntervalTime:6e3,className:"rounded-lg w-screen shadow-lg",_nk:"".concat(u,"51"),children:c()})})}var j=c("9mPY"),b=c("a2t3"),m=c("9kvl"),p=c("uzmA"),h="2BGe",v=e=>{var t=e.storeIcon,c=e.storeName,a=e.storeId,s=e.storeAddress,r=e.menuFunc,o=e.path,i=e.menuPath,u=Object(l["useState"])(),x=Object(n["a"])(u,2),j=x[0],b=x[1];return Object(l["useEffect"])((()=>{r&&r(a,b)}),[]),Object(d["jsxs"])("div",{className:"flex bg-white rounded-lg p-3",onClick:e=>m["a"].push(o),_nk:"".concat(h,"11"),children:[Object(d["jsx"])(p["a"],{src:t,className:"w-24 flex-shrink-0",type:"bg",preview:!1,_nk:"".concat(h,"21")}),Object(d["jsxs"])("div",{className:"flex-1 flex-col px-3",_nk:"".concat(h,"12"),children:[Object(d["jsx"])("div",{className:"text-lg font-bold",_nk:"".concat(h,"13"),children:c}),Object(d["jsx"])("div",{className:"text-xs text-gray-600",_nk:"".concat(h,"14"),children:s}),Object(d["jsxs"])("div",{className:"flex flex-1 overflow-x-auto pt-2",_nk:"".concat(h,"15"),children:[Object(d["jsxs"])("div",{className:"bg-white text-xs w-8 flex-shrink-0 flex flex-col sticky left-0 mr-1",_nk:"".concat(h,"16"),children:[Object(d["jsx"])("div",{className:"text-yellow-600 bg-yellow-200 p-1 mb-1",_nk:"".concat(h,"17"),children:"\u4eca\u65e5\u4f9b\u5e94"}),Object(d["jsx"])("div",{onClick:e=>{e.stopPropagation(),m["a"].push(i)},className:"text-blue-600 bg-blue-200 p-1 rounded-b",_nk:"".concat(h,"18"),children:"\u66f4\u591a\u83dc\u8c31"})]}),j&&j.map(((e,t)=>Object(d["jsxs"])("div",{className:"flex flex-col mx-1 flex-shrink-0",onClick:e=>{e.stopPropagation(),m["a"].push(o)},_nk:"iAr".concat(h,"19"),children:[Object(d["jsx"])("div",{className:"px-0.5 shadow-xs",_nk:"".concat(h,"1a"),children:Object(d["jsx"])(p["a"],{type:"img",src:e.imgUrl,className:"h-16 mx-auto rounded",_nk:"".concat(h,"22")})}),Object(d["jsx"])("div",{className:"text-gray-500 pt-1 pl-1 text-xs",_nk:"".concat(h,"1b"),children:e.foodName})]},e.foodName))),(!j||0===j.length)&&Object(d["jsx"])("div",{className:"flex flex-col ml-1 items-center justify-center h-20 w-full overflow-x-auto bg-gray-100 rounded text-gray-500 font-semibold",onClick:e=>{e.stopPropagation(),m["a"].push(o)},_nk:"".concat(h,"1c"),children:"\u672c\u65e5\u6682\u65e0\u83dc\u8c31"})]})]})]})},f=v,k=c("PCcL"),O=c("Wgwc"),g=c.n(O),w=c("8xVO"),N="n3lt",_=()=>{var e=Object(l["useState"])(),t=Object(n["a"])(e,2),c=t[0],s=t[1],o=function(){var e=Object(a["a"])(r.a.mark((function e(){var t;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(k["g"])({data:{status:1}});case 3:t=e.sent,t&&t.status&&s(t.result),e.next=9;break;case 7:e.prev=7,e.t0=e["catch"](0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),i=function(){var e=Object(a["a"])(r.a.mark((function e(t,c){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(k["l"])({data:{showDate:g()().format("YYYY-MM-DD"),type:"\u5348\u9910",canteenId:t}});case 3:a=e.sent,a&&a.status&&c(a.result.map((e=>{var t,c;return{imgUrl:null===(t=e.picList)||void 0===t||null===(c=t[0])||void 0===c?void 0:c.base64,foodName:e.name,price:e.price}}))),e.next=9;break;case 7:e.prev=7,e.t0=e["catch"](0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,c){return e.apply(this,arguments)}}();Object(l["useEffect"])((()=>{o()}),[]);var u=c&&c.length>0?c.map(((e,t)=>{var c,a;return Object(d["jsx"])("div",{className:"px-4 py-2",_nk:"iAr".concat(N,"11"),children:Object(d["jsx"])(f,{path:"/canteen/user/canteen/".concat(e.pid),menuPath:"/canteen/user/menu/".concat(e.pid),storeId:e.pid,storeName:e.name,storeIcon:null===(c=e.picList)||void 0===c||null===(a=c[0])||void 0===a?void 0:a.base64,storeAddress:e.introduction,menuFunc:i,_nk:"".concat(N,"21")})},e.pid)})):Object(d["jsx"])("div",{className:"bg-white text-center text-gray-500 h-36 mt-4 flex items-center justify-center font-bold text-lg",_nk:"".concat(N,"12"),children:"\u76ee\u524d\u6ca1\u6709\u5546\u5e97"}),m=Object(l["useState"])([{id:"sad",imgUrl:w["c"]}]),p=Object(n["a"])(m,2),h=p[0];p[1];return Object(d["jsxs"])(d["Fragment"],{children:[Object(d["jsxs"])("div",{className:"min-h-screen",_nk:"".concat(N,"13"),children:[Object(d["jsx"])("div",{className:"sticky top-0 z-20",_nk:"".concat(N,"14"),children:Object(d["jsx"])(j["a"],{title:"\u98df\u5802\u8ba2\u9910",className:"bg-yellow-300",_nk:"".concat(N,"31")})}),Object(d["jsx"])("div",{className:"bg-gradient-to-b from-yellow-300 via-yellow-100 to-gray-100 px-4 py-3",_nk:"".concat(N,"15"),children:Object(d["jsx"])(x,{data:h,_nk:"".concat(N,"41")})}),u]}),Object(d["jsx"])(b["a"],{_nk:"".concat(N,"51")})]})};t["default"]=_}}]);