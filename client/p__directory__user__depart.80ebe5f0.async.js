(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[54],{"76iA":function(e,t,c){"use strict";var n=c("9og8"),a=c("tJVT"),r=c("WmNS"),s=c.n(r),i=c("q1tI"),o=c("55Ip"),l=c("MLzn"),d=c("zM3Q"),u=c("nKUr"),j="mD3w";function b(e){var t,c,r=Object(i["useState"])(!!e.openStatus),b=Object(a["a"])(r,2),x=b[0],m=b[1],p=Object(i["useState"])(),h=Object(a["a"])(p,2),f=h[0],v=h[1],O=function(){var t=Object(n["a"])(s.a.mark((function t(){var c;return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(x){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,Object(d["c"])({params:{departmentName:e.departData.deptName}});case 5:c=t.sent,c&&(v(c.result.info),m(!0)),t.next=11;break;case 9:t.prev=9,t.t0=t["catch"](2);case 11:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(){return t.apply(this,arguments)}}();return Object(i["useEffect"])((()=>{O()}),[x]),Object(u["jsx"])(u["Fragment"],{children:Object(u["jsxs"])("div",{className:"bg-white rounded mt-1  mx-2",_nk:"".concat(j,"11"),children:[Object(u["jsxs"])("div",{className:"flex items-center justify-between py-4 px-4 border-b",onClick:()=>m(!x),_nk:"".concat(j,"12"),children:[Object(u["jsxs"])("label",{className:"text-base font-medium",_nk:"".concat(j,"21"),children:[null===e||void 0===e||null===(t=e.departData)||void 0===t?void 0:t.deptName,"-",null===e||void 0===e||null===(c=e.departData)||void 0===c?void 0:c.deptNum,"\u4eba"]}),Object(u["jsx"])("div",{className:"flex items-center",_nk:"".concat(j,"13"),children:!x&&Object(u["jsx"])("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",_nk:"".concat(j,"31"),children:Object(u["jsx"])("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7",_nk:"".concat(j,"41")})})})]}),Object(u["jsxs"])("div",{className:"divide-y ".concat(x?"":"hidden"),_nk:"".concat(j,"14"),children:[!f&&Object(u["jsx"])("div",{className:"h-16 flex items-center justify-center",_nk:"".concat(j,"15"),children:"loading..."}),f&&f.map((e=>Object(u["jsx"])(o["a"],{to:"/directory/user/info/".concat(e.id),_nk:"iAr".concat(j,"51"),children:Object(u["jsx"])(l["a"],{img:"https://source.unsplash.com/100x100/?portrait",name:e.userName,department:e.deptName,phone:e.phoneNumber,role:e.keyPost,_nk:"".concat(j,"61")})},e.id)))]})]})})}t["a"]=Object(i["memo"])(b)},"9mPY":function(e,t,c){"use strict";c.d(t,"a",(function(){return s}));var n=c("9kvl"),a=c("nKUr"),r="8umz";function s(e){var t=e.title,c=e.backTo,s=e.children,i=e.className,o=()=>{void 0===c?n["a"].goBack():n["a"].replace(c)};return Object(a["jsx"])(a["Fragment"],{children:Object(a["jsxs"])("div",{className:"".concat(null!==i&&void 0!==i?i:""," flex justify-between items-center px-2 py-2.5 bg-white border-b"),_nk:"".concat(r,"11"),children:[Object(a["jsx"])("div",{className:"flex flex-1 font-semibold text-base mx-2 ml-auto",onClick:()=>o(),_nk:"".concat(r,"12"),children:Object(a["jsx"])("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",_nk:"".concat(r,"21"),children:Object(a["jsx"])("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7",_nk:"".concat(r,"31")})})}),Object(a["jsx"])("div",{className:"flex justify-center font-semibold text-base flex-nowrap",_nk:"".concat(r,"13"),children:t}),Object(a["jsx"])("div",{className:"flex flex-1 flex-row-reverse",_nk:"".concat(r,"14"),children:s})]})})}},FCyK:function(e,t,c){"use strict";c.r(t);var n=c("9og8"),a=c("tJVT"),r=c("WmNS"),s=c.n(r),i=c("q1tI"),o=c("9kvl"),l=c("P52E"),d=c("9mPY"),u=c("wU99"),j=c("76iA"),b=c("zM3Q"),x=c("nKUr"),m="TWgp",p=()=>{var e=Object(o["e"])("@@initialState"),t=e.initialState,c=t,r=Object(i["useState"])(),l=Object(a["a"])(r,2),p=l[0],h=l[1],f=function(){var e=Object(n["a"])(s.a.mark((function e(){var t;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(b["a"])();case 3:t=e.sent,t&&c.user.userName&&t.result.info.forEach((e=>{e.deptName===c.user.deptName&&h([e])})),e.next=9;break;case 7:e.prev=7,e.t0=e["catch"](0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(i["useEffect"])((()=>{f()}),[]),Object(x["jsxs"])(x["Fragment"],{children:[Object(x["jsxs"])("div",{className:"sticky top-0 z-10",_nk:"".concat(m,"11"),children:[Object(x["jsx"])(d["a"],{title:"\u901a\u8baf\u5f55",backTo:"/",_nk:"".concat(m,"21")}),Object(x["jsx"])(u["a"],{_nk:"".concat(m,"31")})]}),Object(x["jsx"])(x["Fragment"],{children:null===p||void 0===p?void 0:p.map((e=>Object(x["jsx"])(j["a"],{departData:e,openStatus:!0,_nk:"".concat(m,"41")},e.deptName)))})]})};t["default"]=Object(i["memo"])((()=>Object(x["jsx"])(l["KeepAlive"],{name:"/DirectoryDepart",saveScrollPosition:"screen",_nk:"".concat(m,"51"),children:Object(x["jsx"])(p,{_nk:"".concat(m,"61")})})))},MLzn:function(e,t,c){"use strict";c("q1tI");var n=c("nKUr"),a="kIs5";function r(e){return Object(n["jsxs"])("div",{className:"max-w-lg px-4 py-1 flex space-x-4 bg-gray-50 text-gray-800",_nk:"".concat(a,"11"),children:[Object(n["jsx"])("div",{className:"flex-shrink-0 h-12 w-12 mb-0",_nk:"".concat(a,"12"),children:Object(n["jsx"])("div",{className:"w-full h-full rounded bg-blue-500 text-white text-xl flex items-center justify-center",_nk:"".concat(a,"13"),children:e.name&&e.name[0]})}),Object(n["jsx"])("div",{className:"flex flex-col space-y-4",_nk:"".concat(a,"14"),children:Object(n["jsxs"])("div",{_nk:"".concat(a,"15"),children:[Object(n["jsx"])("h2",{className:"text-base font-semibold",_nk:"".concat(a,"21"),children:e.name}),Object(n["jsxs"])("span",{className:"text-sm text-gray-600",_nk:"".concat(a,"31"),children:[e.department,"-",e.role]}),Object(n["jsx"])("div",{className:"text-sm text-gray-600",_nk:"".concat(a,"16"),children:e.phone})]})})]})}t["a"]=r},p6Sr:function(e,t,c){"use strict";c.d(t,"a",(function(){return r}));var n=c("tJVT"),a=c("q1tI");function r(e,t){var c=Object(a["useState"])(e),r=Object(n["a"])(c,2),s=r[0],i=r[1];return Object(a["useEffect"])((()=>{var c=setTimeout((()=>{i(e)}),t);return()=>{clearTimeout(c)}}),[e,t]),s}},wU99:function(e,t,c){"use strict";var n=c("9og8"),a=c("tJVT"),r=c("WmNS"),s=c.n(r),i=c("q1tI"),o=c("zM3Q"),l=c("MLzn"),d=c("p6Sr"),u=c("55Ip"),j=c("nKUr"),b="uKe7";function x(){var e=Object(i["useState"])(),t=Object(a["a"])(e,2),c=t[0],r=t[1],x=Object(i["useState"])(""),m=Object(a["a"])(x,2),p=m[0],h=m[1],f=function(){var e=Object(n["a"])(s.a.mark((function e(t){var c;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""!==t&&t){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,Object(o["d"])({data:{searchData:t}});case 5:c=e.sent,c&&r(c.result.info),e.next=11;break;case 9:e.prev=9,e.t0=e["catch"](2);case 11:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),v=Object(d["a"])(p,300);Object(i["useEffect"])((()=>{f(p)}),[v]);var O=!c&&Object(j["jsx"])("div",{className:"h-16 flex items-center justify-center",_nk:"".concat(b,"11"),children:"loading..."}),k=0===(null===c||void 0===c?void 0:c.length)&&Object(j["jsx"])("div",{className:"h-16 flex items-center justify-center",_nk:"".concat(b,"12"),children:"\u672a\u67e5\u627e\u5230\u5bf9\u5e94\u4eba\u5458"}),N=c&&0!==(null===c||void 0===c?void 0:c.length)&&c.map((e=>Object(j["jsx"])(u["a"],{to:"/directory/user/info/".concat(e.id),_nk:"iAr".concat(b,"21"),children:Object(j["jsx"])(l["a"],{img:"https://source.unsplash.com/100x100/?portrait",name:e.userName,department:e.deptName,phone:e.phoneNumber,role:"\u5458\u5de5",_nk:"".concat(b,"31")})},e.id)));return Object(j["jsxs"])(j["Fragment"],{children:[Object(j["jsxs"])("div",{className:"flex bg-white px-4 py-2 justify-between text-base",_nk:"".concat(b,"13"),children:[Object(j["jsx"])(u["a"],{to:"/directory/user/index",className:"flex flex-1 justify-center border-r",_nk:"".concat(b,"22"),children:"\u6211\u7684\u90e8\u95e8"}),Object(j["jsx"])(u["a"],{to:"/directory/user/organize",className:"flex flex-1 justify-center border-l",_nk:"".concat(b,"23"),children:"\u7ec4\u7ec7\u67b6\u6784"})]}),Object(j["jsxs"])("fieldset",{className:"w-full space-y-1 text-gray-800 p-2 border bg-gray-100",_nk:"".concat(b,"41"),children:[Object(j["jsxs"])("div",{className:"relative",_nk:"".concat(b,"14"),children:[Object(j["jsx"])("span",{className:"absolute inset-y-0 left-0 flex items-center pl-2",_nk:"".concat(b,"51"),children:Object(j["jsx"])("button",{type:"button",title:"search",className:"p-1 focus:outline-none focus:ring",_nk:"".concat(b,"61"),children:Object(j["jsx"])("svg",{fill:"currentColor",viewBox:"0 0 512 512",className:"w-4 h-4 text-gray-800",_nk:"".concat(b,"71"),children:Object(j["jsx"])("path",{d:"M479.6,399.716l-81.084-81.084-62.368-25.767A175.014,175.014,0,0,0,368,192c0-97.047-78.953-176-176-176S16,94.953,16,192,94.953,368,192,368a175.034,175.034,0,0,0,101.619-32.377l25.7,62.2L400.4,478.911a56,56,0,1,0,79.2-79.195ZM48,192c0-79.4,64.6-144,144-144s144,64.6,144,144S271.4,336,192,336,48,271.4,48,192ZM456.971,456.284a24.028,24.028,0,0,1-33.942,0l-76.572-76.572-23.894-57.835L380.4,345.771l76.573,76.572A24.028,24.028,0,0,1,456.971,456.284Z",_nk:"".concat(b,"81")})})})}),Object(j["jsx"])("input",{onChange:e=>h(e.target.value),value:p,type:"search",name:"Search",placeholder:"\u641c\u7d22",className:"border w-full py-2 pl-10 text-sm rounded-md bg-gray-50 text-gray-800 focus:bg-white focus:border-blue-300",_nk:"".concat(b,"91")})]}),""!==p&&Object(j["jsxs"])("div",{className:"absolute left-0",_nk:"".concat(b,"15"),children:[Object(j["jsxs"])("div",{className:"p-2 border w-full bg-gray-100 shadow-lg overflow-y-auto h-96",_nk:"".concat(b,"16"),children:[O,k,N]}),Object(j["jsx"])("div",{className:"bg-gray-400 bg-opacity-50 w-screen h-screen",onClick:()=>h(""),_nk:"".concat(b,"17")})]})]})]})}t["a"]=Object(i["memo"])(x)}}]);