(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[91],{bdvc:function(e,t,c){"use strict";c.d(t,"c",(function(){return r})),c.d(t,"b",(function(){return s})),c.d(t,"a",(function(){return i}));var n=c("gGBh"),a="D1F47B856585C2806FA854DC3E78E4F5";function r(e){var t="";return e&&(t=n["sm4"].encrypt(e,a)),t}function s(e){return void 0!==e&&null!==e}function o(e){return/^\d+(\.\d+)?$/.test(e)}function i(e){if(s(e))return e=String(e),o(e)?"".concat(e,"px"):e}},jfdn:function(e,t,c){"use strict";c.r(t),c.d(t,"default",(function(){return h}));var n=c("9og8"),a=c("tJVT"),r=c("WmNS"),s=c.n(r),o=c("9mPY"),i=c("q1tI"),l=c("uzmA"),d=c("Wgwc"),u=c.n(d),j=c("LQih"),b=c("9kvl"),m=c("nKUr"),v="C3N3";function h(){var e,t=sessionStorage.getItem("appcontentid"),c=Object(b["e"])("@@initialState"),r=c.initialState,d=r,h=d.user.id;console.log(t+"   adviceid");var x=Object(i["useState"])(),f=Object(a["a"])(x,2),p=f[0],O=f[1],k=Object(i["useState"])(""),g=Object(a["a"])(k,2),w=g[0],y=g[1],_=Object(i["useState"])(),N=Object(a["a"])(_,2),S=N[0],C=N[1],L=Object(i["useState"])(""),M=Object(a["a"])(L,2),Y=(M[0],M[1],Object(i["useState"])("")),H=Object(a["a"])(Y,2),D=(H[0],H[1],Object(i["useState"])()),E=Object(a["a"])(D,2),I=E[0],z=E[1],T=function(){var e=Object(n["a"])(s.a.mark((function e(){var t,c;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(j["l"])({data:{userid:h}});case 3:t=e.sent,void 0!=t&&(c=t.result,z(c)),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(n["a"])(s.a.mark((function e(){var c,n;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(j["y"])({data:{id:t}});case 3:c=e.sent,void 0!=c&&(n=c.result,C(n)),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(n["a"])(s.a.mark((function e(){var c,n;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(j["s"])({data:{id:t}});case 3:c=e.sent,void 0!=c&&(n=c.result,O(n)),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(n["a"])(s.a.mark((function e(){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0==w.length){e.next=12;break}return e.prev=1,e.next=4,Object(j["a"])({data:{userid:null===I||void 0===I?void 0:I.pid,id:t,content:w,uname:null===I||void 0===I?void 0:I.name}});case 4:e.sent,y(""),A(),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();return Object(i["useEffect"])((()=>{B(),T(),A()}),[]),Object(m["jsxs"])("div",{className:"h-screen",_nk:"".concat(v,"11"),children:[Object(m["jsx"])(o["a"],{className:"sticky top-0 z-10",title:"APP\u5efa\u8bae\u56de\u590d",backTo:"/stuffVoice/user/home/appadvice",_nk:"".concat(v,"21")}),Object(m["jsx"])("div",{className:"pt-2 flex flex-col overflow-auto  bg-white",_nk:"".concat(v,"12"),children:Object(m["jsx"])("div",{className:"mx-5 my-4",_nk:"".concat(v,"13"),children:Object(m["jsx"])("div",{className:"bg-white flex shadow rounded",_nk:"".concat(v,"14"),children:Object(m["jsxs"])("div",{className:"w-full rounded px-4 leading-loose",_nk:"".concat(v,"15"),children:[Object(m["jsxs"])("div",{className:"flex justify-between",_nk:"".concat(v,"16"),children:[Object(m["jsx"])("strong",{className:"text-lg pt-2",_nk:"".concat(v,"31"),children:null===p||void 0===p?void 0:p.name}),Object(m["jsx"])("span",{className:"text-sm text-gray-400",_nk:"".concat(v,"41"),children:u()(null===p||void 0===p?void 0:p.createdTime).format("YYYY-MM-DD HH:mm:ss")})]}),Object(m["jsxs"])("div",{className:"pt-1",_nk:"".concat(v,"17"),children:[Object(m["jsx"])("p",{className:"text-base text-gray-500",_nk:"".concat(v,"51"),children:null===p||void 0===p?void 0:p.content}),Object(m["jsx"])("div",{className:"grid grid-cols-4 gap-4 my-2",_nk:"".concat(v,"18"),children:null===p||void 0===p||null===(e=p.pics)||void 0===e?void 0:e.map(((e,t)=>{var c=e;return Object(m["jsx"])("div",{className:"bg-white relative border border-blue-500 rounded-lg",_nk:"".concat(v,"19"),children:Object(m["jsx"])(l["a"],{className:"w-24 object-contain",src:c.base64,alt:"",_nk:"".concat(v,"61")})},c.picId)}))})]})]})})},null===p||void 0===p?void 0:p.pid)}),Object(m["jsx"])("div",{className:"mt-4 px-2",_nk:"".concat(v,"1a"),children:Object(m["jsx"])("div",{className:"flex-col",_nk:"".concat(v,"1b"),children:null===S||void 0===S?void 0:S.map(((e,t)=>Object(m["jsx"])("div",{className:"bg-white flex ml-5 rounded-md shadow",_nk:"".concat(v,"1c"),children:Object(m["jsxs"])("div",{className:"w-full rounded-md pl-4 pt-2 pb-1 pr-1 leading-relaxed",_nk:"".concat(v,"1d"),children:[Object(m["jsxs"])("div",{className:"flex justify-between",_nk:"".concat(v,"1e"),children:[Object(m["jsx"])("strong",{className:"text-base",_nk:"".concat(v,"32"),children:e.replyUname}),Object(m["jsx"])("span",{className:"text-sm text-gray-400",_nk:"".concat(v,"42"),children:u()(e.createdTime).format("YYYY-MM-DD HH:mm:ss")})]}),Object(m["jsx"])("div",{_nk:"".concat(v,"1f"),children:Object(m["jsx"])("p",{className:"text-base text-gray-500",_nk:"".concat(v,"52"),children:e.content})})]})},e.pid)))})}),Object(m["jsxs"])("div",{className:"w-full flex justify-center items-center sticky bottom-2 my-4 px-4",_nk:"".concat(v,"1g"),children:[Object(m["jsx"])("input",{className:"w-3/4 rounded-l-full shadow px-4 py-2 focus:outline-none border",type:"text",placeholder:"\u8bf4\u70b9\u4ec0\u4e48\u5427\uff01",value:w,onChange:e=>y(e.target.value),_nk:"".concat(v,"71")}),Object(m["jsx"])("button",{className:"w-1/4 bg-blue-600 text-white text-base font-semibold rounded-r-full shadow hover:bg-indigo-600 py-2",onClick:()=>P(),_nk:"".concat(v,"81"),children:"\u53d1\u8868"})]})]})}},uzmA:function(e,t,c){"use strict";var n=c("tJVT"),a=c("k1fw"),r=c("q1tI"),s=c("i8i4"),o=c.n(s),i=c("+DUQ"),l=c("bdvc"),d=c("nKUr"),u="x4MR",j=e=>{var t=e.src,c=e.className,s=e.alt,j=void 0===s?"":s,b=e.fit,m=void 0===b?"fill":b,v=e.position,h=void 0===v?"center":v,x=e.preview,f=void 0===x||x,p=e.showLoading,O=void 0===p||p,k=e.loadingIcon,g=e.showError,w=void 0===g||g,y=e.errorIcon,_=(e.iconSize,e.style),N=e.width,S=e.height,C=e.onLoad,L=e.onError,M=e.onClick,Y=Object(r["useMemo"])((()=>{var e=Object(a["a"])({},_);return Object(l["b"])(N)&&(e.width=Object(l["a"])(N)),Object(l["b"])(S)&&(e.height=Object(l["a"])(S)),e}),[_]),H="w-full h-full object-".concat(m," object-").concat(h),D=Object(r["useRef"])(null),E=Object(r["useState"])({loading:!0,error:!1}),I=Object(n["a"])(E,2),z=I[0],T=I[1],A=()=>{C&&C(),T({loading:!1,error:!1})},B=()=>{L&&L(),T({loading:!1,error:!0})},P=()=>{z.loading||z.error||(M&&M(),f&&K(!0))},q=()=>z.error||!t?null:Object(d["jsx"])("img",{src:t,ref:D,alt:j,className:H,onLoad:A,onError:B,onClick:P,_nk:"".concat(u,"11")}),J=()=>y?"string"===typeof y?Object(d["jsx"])("img",{src:y,alt:j,className:H,_nk:"".concat(u,"12")}):y:Object(d["jsx"])("div",{className:"w-full h-full flex justify-center items-center bg-gray-200 text-white",_nk:"".concat(u,"21"),children:Object(d["jsx"])("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,_nk:"".concat(u,"31"),children:Object(d["jsx"])("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z",_nk:"".concat(u,"41")})})}),U=()=>k?"string"===typeof k?Object(d["jsx"])("img",{src:k,alt:j,className:H,_nk:"".concat(u,"13")}):k:Object(d["jsx"])("div",{className:"w-full h-full flex justify-center items-center bg-gray-200",_nk:"".concat(u,"22"),children:Object(d["jsx"])("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,_nk:"".concat(u,"32"),children:Object(d["jsx"])("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15",_nk:"".concat(u,"42")})})}),V=()=>z.loading&&O?U():z.error&&w?J():null,W=Object(r["useState"])(!1),F=Object(n["a"])(W,2),R=F[0],K=F[1],Q=Object(i["useTransition"])(R,{from:{opacity:0},enter:{opacity:1},leave:{opacity:0},config:{tension:400,friction:50}}),G=Object(r["useCallback"])((e=>{e&&e.querySelector("img")&&e.querySelector("img").getBoundingClientRect().height<document.documentElement.clientHeight&&e.classList.add("flex","items-center","justify-center")}),[]),$=()=>{var e=Object(d["jsx"])("div",{onClick:e=>{e.stopPropagation(),K(!1)},style:{zIndex:999},className:"top-0 left-0 fixed w-screen h-screen bg-black",_nk:"".concat(u,"23"),children:Object(d["jsx"])("div",{ref:G,className:"w-screen h-screen overflow-y-auto",_nk:"".concat(u,"24"),children:Object(d["jsx"])("img",{src:t,className:"w-full",_nk:"".concat(u,"14")})})});return o.a.createPortal(Q(((t,c)=>c&&Object(d["jsx"])(i["animated"].div,{style:t,_nk:"".concat(u,"51"),children:e}))),document.body)};return Object(d["jsxs"])("div",{style:Y,className:"".concat(null!==c&&void 0!==c?c:""),_nk:"".concat(u,"25"),children:[q(),V(),$()]})};t["a"]=Object(r["memo"])(j)}}]);