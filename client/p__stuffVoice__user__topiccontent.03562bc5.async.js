(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[97],{SiRT:function(e,t,c){"use strict";c.r(t),c.d(t,"default",(function(){return j}));var n=c("9og8"),a=c("tJVT"),s=c("WmNS"),o=c.n(s),r=c("q1tI"),i=c("9mPY"),A=c("Wgwc"),l=c.n(A),d=c("uzmA"),g=c("NPPy"),u=c("LQih"),E=c("nKUr"),b="qQXz";function j(){var e=sessionStorage.getItem("topicRegid"),t=g,c=sessionStorage.getItem("topicid");console.log(e+"    regid      topicid  "+c);var s=Object(r["useState"])(),A=Object(a["a"])(s,2),j=A[0],Q=A[1],m=Object(r["useState"])(),h=Object(a["a"])(m,2),x=h[0],p=h[1],v=Object(r["useState"])(),k=Object(a["a"])(v,2),N=(k[0],k[1],Object(r["useState"])()),B=Object(a["a"])(N,2),f=B[0],O=B[1],w=function(){var e=Object(n["a"])(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u["r"])({data:{topicid:c}});case 3:t=e.sent,void 0!=t&&(n=t.result,console.log(n+" result result"),p(n)),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),y=function(){var t=Object(n["a"])(o.a.mark((function t(){var n,a;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(u["q"])({data:{topicid:c,regid:e}});case 2:n=t.sent,void 0!=n&&(a=n.result,Q(a));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),C=function(){var t=Object(n["a"])(o.a.mark((function t(){var n,a;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(u["x"])({data:{id:c,regid:e,module:6}});case 2:n=t.sent,void 0!=n&&(a=n.result,O(a));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(r["useEffect"])((()=>{}),[x]),Object(r["useEffect"])((()=>{console.log(f+"   pics")}),[f]),Object(r["useEffect"])((()=>{w(),y(),C()}),[]);var I=function(){var t=Object(n["a"])(o.a.mark((function t(n,a,s){return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!=s){t.next=10;break}return t.next=3,Object(u["C"])({data:{regid:e,topicid:c,replyid:n}});case 3:return t.sent,a+=1,t.next=7,Object(u["R"])({data:{replyid:n,hotcount:a}});case 7:t.sent,t.next=17;break;case 10:return a-=1,t.next=13,Object(u["R"])({data:{replyid:n,hotcount:a}});case 13:return t.sent,t.next=16,Object(u["g"])({data:{regid:e,replyid:n,topicid:c}});case 16:t.sent;case 17:y();case 18:case"end":return t.stop()}}),t)})));return function(e,c,n){return t.apply(this,arguments)}}(),J=Object(r["useState"])(""),S=Object(a["a"])(J,2),K=S[0],R=S[1],Y=function(){var t=Object(n["a"])(o.a.mark((function t(){return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0==K.length){t.next=22;break}return t.prev=1,t.next=4,Object(u["B"])({data:{regid:e,topicid:c,replycontent:K}});case 4:t.sent,R(""),y(),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),console.log(t.t0);case 12:return t.prev=12,t.next=15,Object(u["U"])({data:{id:null===x||void 0===x?void 0:x.pid,replycount:null===x||void 0===x?void 0:x.replynum}});case 15:t.sent,w(),t.next=22;break;case 19:t.prev=19,t.t1=t["catch"](12),console.log(t.t1);case 22:case"end":return t.stop()}}),t,null,[[1,9],[12,19]])})));return function(){return t.apply(this,arguments)}}();return Object(E["jsxs"])("div",{className:"min-h-screen bg-white",_nk:"".concat(b,"11"),children:[Object(E["jsx"])(i["a"],{className:"sticky top-0 z-10",title:"\u8bdd\u9898\u5185\u5bb9",backTo:"/stuffVoice/user/home/hottopic",_nk:"".concat(b,"21")}),Object(E["jsxs"])("div",{className:"bg-white min-h-screen max-w-full p-4",_nk:"".concat(b,"12"),children:[Object(E["jsxs"])("div",{className:"w-full flex",_nk:"".concat(b,"13"),children:[Object(E["jsx"])("div",{className:"flex w-1/5",_nk:"".concat(b,"14"),children:Object(E["jsx"])("img",{className:"rounded-full h-16 w-16",src:null===x||void 0===x?void 0:x.img,alt:"\u5934\u50cf",_nk:"".concat(b,"31")})}),Object(E["jsxs"])("div",{className:"pl-5 w-4/5",_nk:"".concat(b,"15"),children:[Object(E["jsxs"])("div",{className:"flex justify-between",_nk:"".concat(b,"16"),children:[Object(E["jsx"])("span",{className:"font-bold text-lg",_nk:"".concat(b,"41"),children:null===x||void 0===x?void 0:x.name}),Object(E["jsx"])("p",{className:"text-gray-500 mt-1",_nk:"".concat(b,"51"),children:l()(null===x||void 0===x?void 0:x.createdTime).format("YYYY-MM-DD HH:mm:ss")})]}),Object(E["jsx"])("p",{className:"py-2 text-base my-2 text-gray-600",_nk:"".concat(b,"52"),children:null===x||void 0===x?void 0:x.topiccontent})]})]}),Object(E["jsx"])("div",{className:"p-4 flex",_nk:"".concat(b,"17"),children:null===f||void 0===f?void 0:f.map(((e,t)=>Object(E["jsx"])(d["a"],{className:"w-24 mx-1",src:e.base64,alt:"",_nk:"".concat(b,"61")},t)))}),Object(E["jsx"])("div",{className:"mt-4",_nk:"".concat(b,"18"),children:Object(E["jsx"])("div",{className:"space-y-4 flex-col bg-white",_nk:"".concat(b,"19"),children:null===j||void 0===j?void 0:j.map(((e,c)=>Object(E["jsxs"])("div",{className:"bg-gray-100 flex ml-5 rounded-md shadow",_nk:"".concat(b,"1a"),children:[Object(E["jsx"])("div",{className:"flex-shrink-0 ml-3",_nk:"".concat(b,"1b"),children:Object(E["jsx"])("img",{className:"mt-2 rounded-full w-10 h-10",src:e.img,alt:"\u5934\u50cf",_nk:"".concat(b,"32")})}),Object(E["jsxs"])("div",{className:"w-full rounded-md pl-4 pt-2 pb-1 pr-1 leading-relaxed",_nk:"".concat(b,"1c"),children:[Object(E["jsxs"])("div",{className:"flex justify-between",_nk:"".concat(b,"1d"),children:[Object(E["jsx"])("strong",{className:"text-base",_nk:"".concat(b,"71"),children:e.name}),Object(E["jsx"])("span",{className:"text-sm text-gray-400",_nk:"".concat(b,"42"),children:l()(e.createdTime).format("YYYY-MM-DD HH:mm:ss")})]}),Object(E["jsxs"])("div",{_nk:"".concat(b,"1e"),children:[Object(E["jsx"])("p",{className:"text-base text-gray-500",_nk:"".concat(b,"53"),children:e.replycontent}),Object(E["jsxs"])("div",{className:"mt-1 flex justify-end items-center",_nk:"".concat(b,"1f"),children:[Object(E["jsx"])("div",{className:"flex space-x-2 mr-2",_nk:"".concat(b,"1g"),children:Object(E["jsx"])("img",{className:"rounded-full w-6 h-6 border border-white",src:e.isup?t["thumbsdown"]:t["thumbs"],alt:"\u70b9\u8d5e",onClick:()=>I(e.pid,e.hotcount,e.isup),_nk:"".concat(b,"33")})}),Object(E["jsx"])("div",{className:"text-base text-gray-500 font-semibold",_nk:"".concat(b,"1h"),children:e.hotcount})]})]})]})]},e.pid)))})}),Object(E["jsxs"])("div",{className:"w-full flex justify-center items-center bg-white sticky bottom-2 my-4",_nk:"".concat(b,"1i"),children:[Object(E["jsx"])("input",{className:"w-3/4 rounded-l-full shadow px-4 py-2 focus:outline-none border",type:"text",placeholder:"\u8bf4\u70b9\u4ec0\u4e48\u5427\uff01",value:K,onChange:e=>R(e.target.value),_nk:"".concat(b,"81")}),Object(E["jsx"])("button",{className:"w-1/4 bg-blue-600 text-white text-base font-semibold rounded-r-full shadow hover:bg-indigo-600 py-2",onClick:()=>Y(),_nk:"".concat(b,"91"),children:"\u53d1\u8868"})]})]})]})}},uzmA:function(e,t,c){"use strict";var n=c("tJVT"),a=c("q1tI"),s=c("i8i4"),o=c.n(s),r=c("nKUr"),i="x4MR";function A(e){var t=e.src,c=e.className,s=(e.alt,e.type),A=void 0===e.preview,l=Object(a["useState"])(!1),d=Object(n["a"])(l,2),g=d[0],u=d[1];Object(a["useEffect"])((()=>{var e=document.createElement("div");g&&(o.a.render(Object(r["jsx"])("div",{onClick:t=>{t.stopPropagation(),u(!g),document.body.removeChild(e)},className:"".concat(g?"":"hidden"," z-50 top-0 left-0 fixed w-screen h-screen flex items-center justify-center bg-opacity-60 bg-gray-800"),_nk:"".concat(i,"11"),children:Object(r["jsx"])("img",{src:t,className:"w-auto h-auto",_nk:"".concat(i,"21")})}),e),document.body.appendChild(e))}),[g]);var E="data:image/png;base64,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";return Object(r["jsxs"])(r["Fragment"],{children:[!t&&Object(r["jsx"])("img",{src:E,className:"".concat(c||""," cursor-pointer bg-gray-300 text-white"),_nk:"".concat(i,"22")}),"bg"===s&&t&&Object(r["jsx"])("div",{className:"".concat(c||""," bg-cover bg-center cursor-pointer border"),style:{backgroundImage:"url(".concat(t,")")},onClick:()=>A&&u(!0),_nk:"".concat(i,"12")}),(!s||"img"===s)&&t&&Object(r["jsx"])("img",{src:t,className:"".concat(c||""," cursor-pointer border"),onClick:()=>A&&u(!0),_nk:"".concat(i,"23")})]})}t["a"]=Object(a["memo"])(A)}}]);